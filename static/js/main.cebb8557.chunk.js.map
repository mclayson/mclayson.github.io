{"version":3,"sources":["utilities/content.js","store/default-state.js","reducers/reducers.js","store/store.js","actions/actions.js","components/header.js","components/footer.js","config/config.js","components/page-signin.js","components/page-setup.js","utilities/api.js","components/page-dashboard.js","config/account-settings.js","utilities/date.js","utilities/data.js","components/user-heatmap.js","components/user-heatmap-dates.js","utilities/string.js","utilities/array.js","components/scheduler.js","components/page-schedule.js","components/lead-kanban.js","components/lead-chart.js","components/page-leads.js","components/project.js","components/project-list.js","components/editor.js","components/modal-warning.js","components/task-list.js","components/job-details.js","components/project-editor.js","components/page-projects.js","components/page-404.js","components/app.js","index.js","assets/images/logo.png"],"names":["window","loc","Content","en","MonthNames","MonthNamesShort","WeekDaysShort","DeleteAllTasksWarning","message_1","message_2","message_3","message_4","confirm","cancel","MarkAllTasksCompleteWarning","DefaultUser","company_setup","user_setup","company_config","homepage","config","first_name","last_name","email","company_id","Math","random","roles","trades","DefaultState","current_user","all_job_data","all_task_data","reducers","state","arguments","length","undefined","action","type","Object","objectSpread","examplePropOne","examplePropTwo","sampleData","moreData","user_data","selected_project","project_id","selected_job","job_id","all_users_data","users_data","all_leads_data","leads_data","all_project_data","job_data","defineProperty","job_object","task_data","project_data","tasks","push","task_id","task_object","i","task_ids","task","t","splice","completed_task","completed","store","createStore","combineReducers","__REDUX_DEVTOOLS_EXTENSION__","setupUser","setupCompany","signOutUser","signInUser","updateUsersData","updateLeadsData","updateAllProjectData","updateJobData","editJob","selectJob","updateTaskData","addTask","editTask","deleteTasks","completeTask","Header","signOut","e","preventDefault","clientApplication","logout","_this","props","react_default","a","createElement","Link","to","src","Logo","alt","this","className","NavLink","exact","href","onClick","React","Component","connect","dispatch","bindActionCreators","Footer","Date","getFullYear","applicationConfig","clientID","authority","b2cScopes","webApi","PageSignin","signed_in","loading","SignIn","assertThisInitialized","_this2","loginPopup","then","idToken","acquireTokenSilent","accessToken","console","log","error","acquireTokenPopup","_this3","id","disabled","setState","construction_types","regions","PageSetup","setup_complete","slider_state","company_name","phone","construction_type","region","role","CompleteSetup","setTimeout","HandleChange","event","target","name","value","HandleCheckboxChange","checked","HandleSubmit","Validate","slide","slides","construction_type_options","key","region_options","role_options","onSubmit","placeholder","onChange","defaultValue","_e","htmlFor","axios","create","baseURL","timeout","headers","callApiWithAccessToken","Axios","url","Authorization","data","JSON","stringify","catch","PageDashboard","loaded","WEEKEND","DAILY_WORK_HOURS","DaysInMonth","month","year","getDate","SameDay","d1","d2","getMonth","random_names","PickedColors","RandomColors","GenerateRandomColor","color","round","TradeDistributor","Trades","JobDefaultTrades","Sign Contract","Pre Deposit","Estimation","Demolition","Protection","Tile Installation","Hardwood Installation","Plumbing","Clean Up","Inspection","Final Payment","JobDefaultTasks","JobIcons","Tile Instalation","DefaultJobIcon","job_iterator","GenerateJob","project","date","scheduled","progress","user","start_time","end_time","max","default_trade","UsersByTrade","u","visible_projects","floor","TasksById","description","GenerateTasks","job","start_date","end_date","assigned_user","project_color","project_name","icon","jobs","JobsByMonth","JobsById","Customer","CreateCustomerUser","substr","indexOf","trade_name","Users","ProjectData","temp_progress","temp_jobs","today","weekend_ref","w","p","weekend_adjuster","min","getDay","GenerateProjectJobs","LeadList","lead_status","max_heat","new","pending","estimate","approved","rejected","number_of_leads","0","1","2","3","4","5","name_counter","l","status_value","dates","last_date","name_list","split","index","new_date","scheduled_date","pending_date","estimate_date","approved_date","rejected_date","status","GenerateLeadsData","UserHeatmap","selected_day","jobs_by_day","jobs_by_id","handleDayClick","parseInt","currentTarget","dataset","handleJobClick","d","calcJobsByDay","prevProps","cells","day_cells","classes","current_date","weekend","data-id","data-index","toDateString","selected_job_data","h","job_duration","job_start","data-project","style","left","maxWidth","minWidth","backgroundColor","UserHeatmapDates","current_time","getHours","SplitString","string","to_character","URLString","str","replace","toLowerCase","ArrayMove","arr","old_index","new_index","k","Scheduler","sort","trade_filter","selected_index","selectSort","selectTradeFilter","day","handleClearSelectedDay","handleNextDay","current_month","handleNextMonth","handlePrevDay","new_month","handlePrevMonth","handleGotoToday","gotoDate","parentNode","scrollTop","offsetTop","current","now","createRef","user_id","section","users_by_id","trade_names","keys","b","x","y","user_nodes","user_dates","users","object","array","o","ObjectToArray","sort_value","trade_value","ref","user_heatmap","user_heatmap_dates","PageSchedule","scheduler","heat_map","getItemStyle","item","isDragging","draggableStyle","heat","border","background","getListStyle","isDraggingOver","padding","width","flex","reorder","list","startIndex","endIndex","result","Array","from","_result$splice","removed","slicedToArray","move","source","destination","droppableSource","droppableDestination","sourceClone","destClone","_sourceClone$splice","new_leads","scheduled_leads","pending_leads","estimate_leads","approved_leads","rejected_leads","other_leads","droppableId","dest","LeadKanban","onBeforeDragStart","onDragStart","onDragUpdate","onDragEnd","lead_groups","leads","toConsumableArray","items","reduce","obj","source_leads","dest_leads","moved","concat","react_beautiful_dnd_esm","provided","snapshot","innerRef","map","draggableId","assign","draggableProps","dragHandleProps","LeadChart","total_leads","heat_map_ranges","range","flip","nodes","transform","PageLeads","lead_chart","lead_kanban","Project","stopPropagation","months","Unscheduled","job_insert","job_month","getJobData","display_months","month_keys","after_today","j","mark_today","last_selected","ProjectList","selectProject","projects","counter","components_project","Editor","RichTextEditor","createEmptyValue","toString","react_rte_default","ModalWarning","title","closeModal","message","handleConfirm","handleCancel","TaskList","add_task_text","temp_edit_text","currently_editing","all_complete","handleTaskClick","handleCompleteAll","job_tasks","openModal","modal_warning","handleIncompleteAll","handleDeleteAll","handleDelete","handleAddKeyPress","handleAddTask","handleAddChange","handleEdit","handleEditKeyPress","handleConfirmEdit","handleEditChange","handleCancelEdit","handleTaskDragStart","dragged_id","dragged_index","handleTaskDragEnd","setStyle","drop_id","handleTaskDrop","handleTaskDragOver","drop_index","handleTaskDragLeave","temp_api_call","tasks_by_id","callAPI","clearTimeout","total_progress","mode","onKeyPress","checkIfAllComplete","task_nodes","drop_location","draggable","onDrag","onDragOver","onDragLeave","onDrop","getMenu","JobDetails","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","updateJobProgress","updateJob","show_content","detail_mode","detail","temp_job_data","show_content_animation","_this4","changeMode","editor","task_list","ProjectEditor","handleCloseButton","last_selected_project","transition_finish","transition","transition_last_selected_project","job_details","PageProjects","temp_load_data","selected_id","projects_by_id","location_array","location","pathname","history","Route","path","component","Msal","App","modal_object","modal","modal_state","el","document","querySelector","appendChild","newStyles","innerHTML","UserAgentApplication","errorDesc","token","tokenType","URLSearchParams","search","get","BrowserRouter","Switch","Page404","Redirect","PageSignIn","footer","ReactDOM","render","es","components_app","getElementById","module","exports","__webpack_require__"],"mappings":"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","file":"static/js/main.cebb8557.chunk.js","sourcesContent":["window.loc = \"en\";\nexport const Content = {\n  \"en\": {\n    \"MonthNames\": [\n      \"January\",\n      \"Fabruary\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\"\n    ],\n    \"MonthNamesShort\": [\n      \"Jan\",\n      \"Fab\",\n      \"Mar\",\n      \"Apr\",\n      \"May\",\n      \"Jun\",\n      \"Jul\",\n      \"Aug\",\n      \"Sep\",\n      \"Oct\",\n      \"Nov\",\n      \"Dec\"\n    ],\n    \"WeekDaysShort\": [\n      \"Sun\",\n      \"Mon\",\n      \"Tue\",\n      \"Wed\",\n      \"Thu\",\n      \"Fri\",\n      \"Sat\"\n    ],\n\n    \"DeleteAllTasksWarning\": {\n      \"message_1\": \"You're about to delete all of the tasks for the job: \",\n      \"message_2\": \".\",\n      \"message_3\": \"This cannot be undone.\",\n      \"message_4\": \"Are you sure?\",\n      \"confirm\": \"delete tasks\",\n      \"cancel\": \"cancel\"\n    },\n\n    \"MarkAllTasksCompleteWarning\": {\n      \"message_1\": \"You're about to mark all of the tasks for the job: \",\n      \"message_2\": \" as completed.\",\n      \"message_3\": \"Are you sure?\",\n      \"confirm\": \"they're all done!\",\n      \"cancel\": \"hang on\"\n    }\n\n  }\n};\n\n\nexport const DefaultUser = {\n  company_setup: true,\n  user_setup: true,\n  company_config: {\n    homepage: \"/dashboard\"\n  },\n  config: {\n    homepage: \"/schedule\"\n  },\n  first_name: \"Joe\",\n  last_name: \"Smith\",\n  email: \"joe.smith@projulcustomer.com\",\n  company_id: Math.random(),\n  roles: [\"admin\", \"owner\", \"scheduler\", \"project-manager\"],\n  trades: [\"Company Owner\"]\n};\n","import {DefaultUser} from '../utilities/content';\n\nlet DefaultState = {\n  current_user: null,//DefaultUser,//null,\n  all_job_data: {},\n  all_task_data: {}\n};\n\nexport default DefaultState;\n","import DefaultState from '../store/default-state'\n\nconst reducers = (state = DefaultState, action) => {\n  switch (action.type) {\n    case 'EXAMPLE':\n      return {\n        ...state,\n        examplePropOne: 'newPropOne'\n      }\n    case 'EXAMPLE-TWO':\n      return {\n        ...state,\n        examplePropTwo: action.sampleData + action.moreData\n      }\n    case 'SETUP-COMPANY':\n      return {\n        ...state,\n        current_user: {...(state.current_user||{}), company_setup:true}\n      }\n    case 'SETUP-USER':\n      return {\n        ...state,\n        current_user: {...(state.current_user||{}), user_setup:true}\n      }\n    case 'SIGNIN-USER':\n      return {\n        ...state,\n        current_user: action.user_data\n      }\n    case 'SIGNOUT-USER':\n      return {\n        ...state,\n        current_user: null\n      }\n    case 'SELECT-JOB':\n      return {\n        ...state,\n        selected_project: action.project_id,\n        selected_job: action.job_id\n      }\n\n\n\n\n    case 'UPDATE-ALL-USERS-DATA':\n      return {\n        ...state,\n        all_users_data: action.all_users_data\n      }\n    case 'UPDATE-USERS-DATA':\n      return {\n        ...state,\n        all_users_data: {\n          ...state.all_users_data,\n          ...action.users_data\n        }\n      }\n\n\n\n\n    case 'UPDATE-ALL-LEADS-DATA':\n      return {\n        ...state,\n        all_leads_data: action.all_leads_data\n      }\n    case 'UPDATE-LEADS-DATA':\n      return {\n        ...state,\n        all_leads_data: {\n          ...state.all_leads_data,\n          ...action.leads_data\n        }\n      }\n\n\n\n    case 'UPDATE-ALL-PROJECT-DATA':\n      return {\n        ...state,\n        all_project_data: action.all_project_data\n      }\n\n\n\n    case 'UPDATE-ALL-JOB-DATA':\n      return {\n        ...state,\n        all_job_data: action.all_job_data\n      }\n    case 'UPDATE-JOB-DATA':\n      return {\n        ...state,\n        all_job_data: {\n          ...state.all_job_data,\n          ...action.job_data\n        }\n      }\n    case 'EDIT-JOB':\n      return {\n        ...state,\n        all_job_data: {\n          ...state.all_job_data,\n          [action.job_id]:{\n            ...state.all_job_data[action.job_id],\n            ...action.job_object\n          }\n        }\n      }\n\n\n\n    case 'UPDATE-ALL-TASK-DATA':\n      return {\n        ...state,\n        all_task_data: action.all_task_data\n      }\n    case 'UPDATE-TASK-DATA':\n      return {\n        ...state,\n        all_task_data: {\n          ...state.all_task_data,\n          ...action.task_data\n        }\n      }\n    case 'ADD-TASK':\n      let job_data = {...state.all_job_data};\n      let project_data = {...state.all_project_data};\n      // add to job\n      if (action.job_id) {\n        job_data[action.job_id].tasks.push(action.task_id);\n      }\n      // add to project\n      if (action.project_id) {\n        project_data[action.project_id].tasks.push(action.task_id);\n      }\n      return {\n        ...state,\n        all_project_data: project_data,\n        all_job_data: job_data,\n        all_task_data: {\n          ...state.all_task_data,\n          [action.task_id]:action.task_object\n        }\n      }\n    case 'EDIT-TASK':\n      return {\n        ...state,\n        all_task_data: {\n          ...state.all_task_data,\n          [action.task_id]:{\n            ...state.all_task_data[action.task_id],\n            ...action.task_object\n          }\n        }\n      }\n    case 'DELETE-TASKS':\n      job_data = {...state.all_job_data};\n      project_data = {...state.all_project_data};\n      let all_task_data = {...state.all_task_data};\n\n      for (let i=0; i<action.task_ids.length; i++) {\n        let task = all_task_data[action.task_ids[i]];\n        //if the task is part of a job\n        if (task.job_id) {\n          for (let t=0; t<job_data[task.job_id].tasks.length; t++) {\n            if (job_data[task.job_id].tasks[t] === action.task_ids[i]) {\n              job_data[task.job_id].tasks.splice(t, 1);\n            }\n          }\n        }\n        //if the task is part of a project\n        if (task.project_id) {\n          for (let t=0; t<project_data[task.project_id].tasks.length; t++) {\n            if (project_data[task.project_id].tasks[t] === action.task_ids[i]) {\n              project_data[task.project_id].tasks.splice(t, 1);\n            }\n          }\n        }\n        //delete the task itself\n        delete all_task_data[action.task_ids[i]];\n      }\n      return {\n        ...state,\n        all_job_data: job_data,\n        all_project_data: project_data,\n        all_task_data: all_task_data\n      }\n    case 'COMPLETE-TASK':\n      const completed_task = {\n        ...state.all_task_data[action.task_id],\n        completed: true\n      }\n      return {\n        ...state,\n        all_task_data: {\n          ...state.all_task_data,\n          [action.task_id]:completed_task\n        }\n      }\n\n\n    default: return state;\n  }\n}\n\nexport default reducers;\n","import { createStore, combineReducers } from 'redux';\n// import ReduxThunk from 'redux-thunk'\nimport reducers from '../reducers/reducers';\n\nexport const store = createStore(\n  combineReducers({\n    state: reducers\n  }),\n  // applyMiddleware(ReduxThunk),\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n","export const exampleActionOne = () => (\n  {\n    type: 'EXAMPLE'\n  }\n);\n\nexport const exampleActionTwo = (sampleData, moreData) => (\n  {\n    type: 'EXAMPLE-TWO',\n    sampleData,\n    moreData\n  }\n)\n\nexport const setupUser = () => (\n  {\n    type: 'SETUP-USER'\n  }\n)\n\nexport const setupCompany = () => (\n  {\n    type: 'SETUP-COMPANY'\n  }\n)\n\nexport const signOutUser = () => (\n  {\n    type: 'SIGNOUT-USER'\n  }\n)\n\nexport const signInUser = (user_data) => (\n  {\n    type: 'SIGNIN-USER',\n    user_data\n  }\n)\n\n\n\n\nexport const updateAllUsersData = (all_users_data) => (\n  {\n    type: 'UPDATE-ALL-USERS-DATA',\n    all_users_data\n  }\n)\n\nexport const updateUsersData = (users_data) => (\n  {\n    type: 'UPDATE-USERS-DATA',\n    users_data\n  }\n)\n\n\n\n\nexport const updateAllLeadsData = (all_leads_data) => (\n  {\n    type: 'UPDATE-ALL-LEADS-DATA',\n    all_leads_data\n  }\n)\n\nexport const updateLeadsData = (leads_data) => (\n  {\n    type: 'UPDATE-LEADS-DATA',\n    leads_data\n  }\n)\n\n\n\nexport const updateAllProjectData = (all_project_data) => (\n  {\n    type: 'UPDATE-ALL-PROJECT-DATA',\n    all_project_data\n  }\n)\n\nexport const updateAllJobData = (all_job_data) => (\n  {\n    type: 'UPDATE-ALL-JOB-DATA',\n    all_job_data\n  }\n)\n\nexport const updateJobData = (job_data) => (\n  {\n    type: 'UPDATE-JOB-DATA',\n    job_data\n  }\n)\n\nexport const editJob = (job_id, job_object) => (\n  {\n    type: 'EDIT-JOB',\n    job_id,\n    job_object\n  }\n)\n\nexport const selectJob = (project_id, job_id) => (\n  {\n    type: 'SELECT-JOB',\n    project_id,\n    job_id\n  }\n)\n\n\n\nexport const updateAllTaskData = (all_task_data) => (\n  {\n    type: 'UPDATE-ALL-TASK-DATA',\n    all_task_data\n  }\n)\n\nexport const updateTaskData = (task_data) => (\n  {\n    type: 'UPDATE-TASK-DATA',\n    task_data\n  }\n)\n\nexport const addTask = (task_id, task_object, job_id, project_id) => (\n  {\n    type: 'ADD-TASK',\n    task_id,\n    task_object,\n    job_id,\n    project_id\n  }\n)\n\nexport const editTask = (task_id, task_object) => (\n  {\n    type: 'EDIT-TASK',\n    task_id,\n    task_object\n  }\n)\n\nexport const deleteTasks = (task_ids) => (\n  {\n    type: 'DELETE-TASKS',\n    task_ids\n  }\n)\n\nexport const completeTask = (task_id) => (\n  {\n    type: 'COMPLETE-TASK',\n    task_id\n  }\n)\n","import React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport {\n  Link,\n  NavLink\n} from \"react-router-dom\";\nimport Logo from '../assets/images/logo.png'\n\nimport { signOutUser } from '../actions/actions';\n\nclass Header extends React.Component {\n  signOut = (e) => {\n    e.preventDefault();\n    window.clientApplication.logout();\n    this.props.signOutUser();\n  }\n\n  render () {\n    return (\n      <header>\n        <Link to=\"/\">\n          <img src={Logo} alt=\"Projul Logo\" />\n        </Link>\n          { this.props.current_user && (\n            <ul className={\"flex-center\" + (!this.props.current_user || this.props.current_user.company_setup || this.props.current_user.user_setup?\"\":\" menu-placeholder\")}>\n              <li><NavLink exact to=\"/dashboard\"><i className=\"fas fa-home\"></i><span>dashboard</span></NavLink></li>\n              <li><NavLink to=\"/projects\"><i className=\"fas fa-toolbox\"></i><span>projects</span></NavLink></li>\n              <li><NavLink exact to=\"/schedule\"><i className=\"far fa-calendar-alt\"></i><span>schedule</span></NavLink></li>\n              <li><NavLink exact to=\"/leads\"><i className=\"fas fa-phone\"></i><span>leads</span></NavLink></li>\n            </ul>\n          )}\n        <nav>\n          { this.props.current_user && (\n            <ul>\n              <li><a href=\"#sign-out\" onClick={this.signOut}><i className=\"fas fa-sign-out-alt\"></i><span>sign out</span></a></li>\n            </ul>\n          )}\n        </nav>\n      </header>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    current_user: state.state.current_user\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({signOutUser}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","import React from 'react'\n\nconst Footer = () => (\n  <footer>\n    Projul © {new Date().getFullYear()}\n  </footer>\n)\n\nexport default Footer\n","export const HOMEPAGE = \"/dashboard\";\n\nexport const applicationConfig = {\n  clientID: '097b5df2-496e-4e2a-87ac-dcb775b2b170',\n  authority: \"https://projul.b2clogin.com/projul.onmicrosoft.com/b2c_1_siupin\",\n  b2cScopes: [\"https://projul.onmicrosoft.com/dev-api/user_impersonation\"],\n  webApi: 'https://functionapp220181204090627.azurewebsites.net/api/Function1?name=Projul'\n};\n","import React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport {\n  Link\n} from 'react-router-dom';\nimport {applicationConfig} from '../config/config';\n// import {SetToken} from '../utilities/cookies';\nimport {DefaultUser} from '../utilities/content';\n\nimport { signInUser } from '../actions/actions';\n\nclass PageSignin extends React.Component {\n  state = {\n    signed_in: false,\n    loading: false\n  };\n  SignIn = () => {\n    // setTimeout(()=>{\n    //   SetToken(\"Im a Token\");\n    //   this.props.signInUser(DefaultUser);\n    // },2000);\n    // document.location = \"https://projul.b2clogin.com/projul.onmicrosoft.com/oauth2/v2.0/authorize?p=b2c_1_siupin&response_type=code&state=&client_id=097b5df2-496e-4e2a-87ac-dcb775b2b170&scope=https://projul.onmicrosoft.com/dev-api/user_impersonation openid offline_access&redirect_uri=https://localhost.projul.com:3000\";\n    // document.location = \"https://projul.b2clogin.com/projul.onmicrosoft.com/oauth2/v2.0/authorize?p=b2c_1_siupin&response_type=token&state=&client_id=097b5df2-496e-4e2a-87ac-dcb775b2b170&scope=https://projul.onmicrosoft.com/dev-api/user_impersonation openid offline_access&redirect_uri=http://localhost:3000\";\n    // window.clientApplication.loginRedirect(applicationConfig.b2cScopes);\n    const _this = this;\n    window.clientApplication.loginPopup(applicationConfig.b2cScopes).then(function (idToken) {\n        window.clientApplication.acquireTokenSilent(applicationConfig.b2cScopes).then((accessToken) =>{\n            console.log(\"we're in!\");\n            _this.props.signInUser(DefaultUser);\n            // updateUI();\n        }, function (error) {\n            window.clientApplication.acquireTokenPopup(applicationConfig.b2cScopes).then(function (accessToken) {\n                // updateUI();\n            }, function (error) {\n                console.log(\"Error acquiring the popup:\\n\" + error);\n            });\n        })\n    }, function (error) {\n        console.log(\"Error during login:\\n\" + error);\n    });\n  };\n\n  render () {\n    return (\n      <section id=\"signin\" className={this.state.loading?\"loading\":\"\"}>\n        <div className=\"card\">\n          <h1>welcome back</h1>\n          <button className=\"button-sign-in load-button\" disabled={this.state.loading} onClick={e=>{\n            this.setState({loading: true});\n            this.SignIn();\n          }}><span>sign in</span><span></span></button>\n          <div>\n            <Link to=\"/signup\">Need an account? Try it out!</Link>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    current_user: state.state.current_user\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({signInUser}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageSignin);\n","import React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { setupUser, setupCompany } from '../actions/actions';\n\nconst construction_types = [\n  \"General Contractor - Commercial\",\n  \"Custom Home Builder\",\n  \"Production Builder\",\n  \"Remodeler - Renovation\",\n  \"Design Build\",\n  \"Specialty Contractor\",\n  \"Subcontractor\",\n  \"Construction Manager\",\n  \"Property Developer\",\n  \"Real Estate Agent\",\n  \"Architect - Designer\",\n  \"Supplier - Vendor\",\n  \"Other\"\n];\n\nconst regions = [\n  \"North America\",\n  \"Latin America\",\n  \"South America\",\n  \"Europe\",\n  \"Australia\",\n  \"Middle East\",\n  \"Africa\",\n  \"Asia & India\",\n  \"Other\"\n];\n\nconst roles = [\n  \"Company Owner or Partner\",\n  \"Project Manager\",\n  \"Office Manager\",\n  \"Superintendent\",\n  \"Estimator\",\n  \"Architect\",\n  \"Engineer\",\n  \"Accountant\",\n  \"Other\"\n];\n\nclass PageSetup extends React.Component {\n  state = {\n    setup_complete: false,\n    loading: false,\n    slider_state: 0,\n    company_name: \"\",\n    phone: \"\",\n    construction_type: \"\",\n    region: \"\",\n    role: \"\"\n  };\n  componentDidMount() {\n    setTimeout(()=>{\n      this.setState({slider_state: 1});\n    }, 1000);\n  }\n\n  CompleteSetup = () => {\n    setTimeout(()=>{\n      // SetSetup(\"Setup Complete!\");\n      // this.setState({setup_complete: true});\n      this.props.setupUser();\n      this.props.setupCompany();\n    },2000);\n  };\n\n  HandleChange = (event) => {\n    let state = {};\n    state[event.target.name] = event.target.value;\n    this.setState(state);\n  }\n\n  HandleCheckboxChange = (event) => {\n    let state = {};\n    state[event.target.id] = event.target.checked;\n    this.setState(state);\n  }\n\n  HandleSubmit = (event) => {\n    event.preventDefault();\n    if (this.Validate()) {\n      this.setState({loading: true});\n      this.CompleteSetup();\n    }\n  }\n\n  Validate = (slide) => {\n    var slides = [\n      this.state.company_name !== \"\" &&\n      this.state.phone !== \"\" &&\n      this.state.construction_type !== \"\" &&\n      this.state.region !== \"\" &&\n      this.state.role !== \"\",\n      true\n    ];\n    if (slide) {\n      return slides[slide-1];\n    } else {\n      return slides[0] && slides[1];\n    }\n  }\n  render () {\n\n    const construction_type_options = [(<option disabled={true} key=\"default\">construction type</option>)];\n    const region_options = [(<option disabled={true} key=\"default\">region</option>)];\n    const role_options = [(<option disabled={true} key=\"default\">your role</option>)];\n\n    for (var type in construction_types) {\n      construction_type_options.push((\n        <option value={construction_types[type]} key={construction_types[type]}>{construction_types[type]}</option>\n      ));\n    }\n\n    for (var region in regions) {\n      region_options.push((\n        <option value={regions[region]} key={regions[region]}>{regions[region]}</option>\n      ));\n    }\n\n    for (var role in roles) {\n      role_options.push((\n        <option value={roles[role]} key={roles[role]}>{roles[role]}</option>\n      ));\n    }\n\n    return (\n      <section id=\"page-setup\">\n        <div>\n          <div className=\"card f-column f-space-between\">\n            <form className={\"slider t-center\" + (this.state.loading?\" loading\":\"\")} onSubmit={this.HandleSubmit}>\n              <div className={\"f-column\" + (this.state.slider_state === 1?\" active\":\"\")}>\n                <h2>Tell us a little about your construction company...</h2>\n                <div className=\"f-column f-center f-a-center f-grow\">\n                  <p>\n                    <input name=\"company_name\" type=\"text\" placeholder=\"company name\" value={this.state.company_name} onChange={this.HandleChange} />\n                  </p>\n                  <p>\n                    <input name=\"phone\" type=\"text\" placeholder=\"phone number\" value={this.state.phone} onChange={this.HandleChange} />\n                  </p>\n                  <p className=\"select-container\">\n                    <select className={this.state.construction_type?\"\":\"placeholder\"} defaultValue=\"construction type\" name=\"construction_type\" onChange={this.HandleChange}>\n                      {construction_type_options}\n                    </select>\n                    <i className=\"fas fa-caret-down\"></i>\n                  </p>\n                  <p className=\"select-container\">\n                    <select className={this.state.region?\"\":\"placeholder\"} defaultValue=\"region\" name=\"region\" onChange={this.HandleChange}>\n                      {region_options}\n                    </select>\n                    <i className=\"fas fa-caret-down\"></i>\n                  </p>\n                  <p className=\"select-container\">\n                    <select className={this.state.role?\"\":\"placeholder\"} defaultValue=\"your role\" name=\"role\" onChange={this.HandleChange}>\n                      {role_options}\n                    </select>\n                    <i className=\"fas fa-caret-down\"></i>\n                  </p>\n                </div>\n                <footer>\n                  <button className=\"next-button\"\n                    type=\"button\"\n                    disabled={\n                      this.state.loading ||\n                      !this.Validate(1)\n                    }\n                    onClick={_e=>{\n                      this.setState({slider_state: 2});\n                    }}\n                  >\n                    <span>next</span>\n                  </button>\n                </footer>\n              </div>\n              <div className={\"f-column\" + (this.state.slider_state === 2?\" active\":\"\")}>\n                <h2>Which Projul features interest you the most?</h2>\n                <div className=\"f-column f-center f-a-center f-grow\">\n                  <p>\n                    <input id=\"feature-1\" className=\"feature\" name=\"feature-1\" type=\"checkbox\" onChange={this.HandleCheckboxChange} />\n                    <label htmlFor=\"feature-1\">\n                      Project Managment!\n                    </label>\n                  </p>\n                  <p>\n                    <input id=\"feature-2\" className=\"feature\" name=\"feature-2\" type=\"checkbox\" onChange={this.HandleCheckboxChange} />\n                    <label htmlFor=\"feature-2\">\n                      Customer Communication!\n                    </label>\n                  </p>\n                  <p>\n                    <input id=\"feature-3\" className=\"feature\" name=\"feature-3\" type=\"checkbox\" onChange={this.HandleCheckboxChange} />\n                    <label htmlFor=\"feature-3\">\n                      Project Photo Organization!\n                    </label>\n                  </p>\n                </div>\n                <footer>\n                  <button className=\"back-button\"\n                    type=\"button\"\n                    disabled={\n                      this.state.loading\n                    }\n                    onClick={_e=>{\n                      this.setState({slider_state: 1});\n                    }}\n                  >\n                    <span>back</span>\n                  </button>\n                  <button className=\"load-button\"\n                    disabled={\n                      this.state.loading ||\n                      !this.Validate(2)\n                    }\n                  >\n                    <span>complete setup</span>\n                    <span></span>\n                  </button>\n                </footer>\n              </div>\n            </form>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    current_user: state.state.current_user\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({setupUser,setupCompany}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageSetup);\n","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: 'https://',\n  timeout: 1000,\n  headers: {}\n});\n","import React from 'react'\nimport Axios from '../utilities/api'\nimport {applicationConfig} from '../config/config'\n\nfunction callApi() {\n  window.clientApplication.acquireTokenSilent(applicationConfig.b2cScopes).then(function (accessToken) {\n      callApiWithAccessToken(accessToken);\n  }, function (error) {\n    window.clientApplication.acquireTokenPopup(applicationConfig.b2cScopes).then(function (accessToken) {\n        callApiWithAccessToken(accessToken);\n    }, function (error) {\n        console.log(\"Error acquiring the access token to call the Web api:\\n\" + error);\n    });\n  })\n}\nfunction callApiWithAccessToken(accessToken) {\n    // Call the Web API with the AccessToken\n    Axios({\n        type: \"GET\",\n        url: applicationConfig.webApi,\n        headers: {\n            'Authorization': 'Bearer ' + accessToken,\n        },\n    }).then(function (data) {\n        console.log(\"Web APi returned:\\n\" + JSON.stringify(data));\n    })\n    .catch(function (error) {\n        console.log(\"Error calling the Web api:\\n\" + error);\n    })\n}\n\n\nclass PageDashboard extends React.Component {\n  state = {\n    loaded: false\n  };\n  componentDidMount() {\n    setTimeout(()=>{\n      this.setState({loaded: true});\n\n      callApi();\n\n    }, 50);\n  }\n  render() {\n    return (\n      <section id=\"page-dashboard\">\n        <div className={this.state.loaded?\"loaded\":\"loading\"}>\n          <div className=\"card d1\">\n          </div>\n          <div className=\"card d2\">\n          </div>\n        </div>\n        <div className={this.state.loaded?\"loaded\":\"loading\"}>\n          <div className=\"card d3\">\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default PageDashboard\n","export const WEEKEND = [0,6];\nexport const DAILY_WORK_HOURS = 8;\n","export function DaysInMonth (month, year) {\n  return new Date(year, month+1, 0).getDate();\n}\n\nexport function SameDay(d1, d2) {\n  return d1.getFullYear() === d2.getFullYear() &&\n    d1.getMonth() === d2.getMonth() &&\n    d1.getDate() === d2.getDate();\n}\n","import {DAILY_WORK_HOURS, WEEKEND} from '../config/account-settings'\n\n\n\nvar random_names = [\n\"Marcia Byrd\",\n\"Homer Jensen\",\n\"Derrick Hopkins\",\n\"Sara Bowman\",\n\"Ora Hawkins\",\n\"Traci Gonzalez\",\n\"Charles Knight\",\n\"Shari Palmer\",\n\"Alfred Mcbride\",\n\"Josephine Martinez\",\n\"Geraldine Page\",\n\"Pete Grant\",\n\"Brooke Cummings\",\n\"Willis Yates\",\n\"Randy Thomas\",\n\"Mack George\",\n\"Melanie Reid\",\n\"Terence Rodgers\",\n\"Meredith Foster\",\n\"Patsy Campbell\",\n\"Carolyn Dixon\",\n\"Esther Weaver\",\n\"Lillian Maxwell\",\n\"Gladys Watts\",\n\"Mae Nunez\",\n\"Sammy Clark\",\n\"Sandra Rios\",\n\"Kathryn Terry\",\n\"Courtney Dennis\",\n\"Don Caldwell\",\n\"Kenny Glover\",\n\"Marcus Harrison\",\n\"Molly Young\",\n\"Joshua Edwards\",\n\"Bertha Warner\",\n\"Gayle Stokes\",\n\"Victoria Harris\",\n\"Jana Singleton\",\n\"Orville Hoffman\",\n\"Benjamin Fleming\",\n\"Erma Lowe\",\n\"Miguel Stephens\",\n\"Rafael Smith\",\n\"Albert Marsh\",\n\"Wayne Goodman\",\n\"Tasha Parsons\",\n\"Johnnie Munoz\",\n\"Wade Ward\",\n\"Blanche Carter\",\n\"Cesar Cooper\"\n];\n\nlet PickedColors = {};\nconst RandomColors = [\n  \"#1abc9c\",\n  \"#16a085\",\n  \"#27ae60\",\n  \"#3498db\",\n  \"#2980b9\",\n  \"#4a69bd\",\n  \"#6a89cc\",\n  \"#60a3bc\",\n  \"#079992\",\n  \"#3c6382\",\n  \"#d35400\",\n  \"#e74c3c\",\n  \"#e15f41\",\n  \"#e77f67\",\n  \"#c0392b\"\n\n];\nexport function GenerateRandomColor () {\n  const color = RandomColors[Math.round(Math.random()*(RandomColors.length-1))];\n  if (!PickedColors[color]) {\n    PickedColors[color] = true;\n    return color;\n  }\n  return GenerateRandomColor();\n}\n\n\nexport const TradeDistributor = [0,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9];\n\nexport const Trades = [\n  \"Project Manager\",\n  \"Operations Manager\",\n  \"Plumber\",\n  \"Technician\",\n  \"Electrician\",\n  \"Laborer\",\n  \"Dry Wall Installer\",\n  \"Tile Setter\",\n  \"Hardwood Installer\",\n  \"Framer\"\n];\n\nconst JobDefaultTrades = {\n  \"Sign Contract\": \"Customer\",\n  \"Pre Deposit\": \"Customer\",\n  \"Estimation\": \"Project Manager\",\n  \"Demolition\": \"Laborer\",\n  \"Protection\": \"Laborer\",\n  \"Tile Installation\": \"Tile Setter\",\n  \"Hardwood Installation\": \"Hardwood Installer\",\n  \"Plumbing\": \"Plumber\",\n  \"Clean Up\": \"Laborer\",\n  \"Inspection\": \"Project Manager\",\n  \"Final Payment\": \"Customer\"\n};\n\nconst JobDefaultTasks = {\n  \"Sign Contract\": [\"Sign contract\"],\n  \"Pre Deposit\": [\"Recieve pre deposit\"],\n  \"Estimation\": [\"Complete Estimation\"],\n  \"Demolition\": [\"Break it down\"],\n  \"Protection\": [\"Lay down plastic\", \"Tape up walls\"],\n  \"Tile Installation\": [\"Put the tile in\"],\n  \"Hardwood Installation\": [\"Put the hardwood in\"],\n  \"Plumbing\": [\"Fix the pipes\"],\n  \"Clean Up\": [\"Clean up mess\"],\n  \"Inspection\": [\"Complete Inspection\"],\n  \"Final Payment\": [\"Reviece final payment\"],\n};\n\nconst JobIcons = {\n  \"Sign Contract\": \"fas fa-file-signature\",\n  \"Pre Deposit\": \"fas fa-dollar-sign\",\n  \"Estimation\": \"fas fa-balance-scale\",\n  \"Demolition\": \"fas fa-hammer\",\n  \"Protection\": \"fas fa-tape\",\n  \"Tile Instalation\": \"fas fa-toolbox\",\n  \"Plumbing\": \"fas fa-tint\",\n  \"Clean Up\": \"fas fa-broom\",\n  \"Inspection\": \"fas fa-clipboard-list\",\n  \"Final Payment\": \"fas fa-dollar-sign\"\n};\nconst DefaultJobIcon = \"fas fa-toolbox\";\n\nexport function GenerateTasks (name, scheduled, progress, job_id) {\n  let tasks = [];\n  let task_id = \"\";\n  if (JobDefaultTasks[name]) {\n    for (let t=0; t<JobDefaultTasks[name].length; t++) {\n      task_id = \"task_\" + Math.random();\n      TasksById[task_id] = {\n        name: JobDefaultTasks[name][t],\n        description: '\"' + JobDefaultTasks[name][t] + '\" is a cool task.',\n        completed: scheduled && progress ? !!(Math.round(Math.random()*100)%5) : false,\n        id: task_id,\n        job_id: job_id\n      };\n      tasks.push(task_id);\n    }\n  }\n  return tasks;\n}\n\nlet job_iterator = 0;\nexport function GenerateJob (project, name, date, scheduled, progress) {\n  job_iterator++;\n  var start_time = 6+(Math.random()*DAILY_WORK_HOURS/4);\n  var end_time = Math.max(1,start_time+Math.random()*DAILY_WORK_HOURS);\n  var id = \"t\"+job_iterator+\"p\"+project.id;\n  //var scheduled = Math.round(Math.random()*100) % 4;\n  let default_trade = JobDefaultTrades[name];\n  let user;\n  if (scheduled && default_trade && UsersByTrade[default_trade]) {\n    if (default_trade === \"Customer\") {\n      for (var u=0; u<UsersByTrade[default_trade].length; u++) {\n        if (project.id === UsersByTrade[default_trade][u].visible_projects[0]) {\n          user = UsersByTrade[default_trade][u];\n        }\n      }\n      if (!user) {\n        scheduled = false;\n      }\n    } else {\n      user = UsersByTrade[default_trade][Math.floor(Math.random()*UsersByTrade[default_trade].length)];\n    }\n  } else {\n    scheduled = false;\n  }\n\n  let tasks = GenerateTasks(name, scheduled, progress, id);\n\n  progress = 0;\n  for (let t=0; t<tasks.length; t++) {\n    if (tasks[t].completed) {\n      progress++;\n    }\n  }\n\n  var job = {\n    start_date: scheduled ? new Date(date.getFullYear(), date.getMonth(), date.getDate(), start_time ) : null,\n    end_date: scheduled ? new Date(date.getFullYear(), date.getMonth(), date.getDate(), end_time, -Math.round(Math.random()*10) ) : null,\n    assigned_user: scheduled ? user.id : null,\n    project_id: project.id,\n    project_color: project.color,\n    project_name: project.name,\n    default_trade: default_trade,\n    name: name,\n    icon: JobIcons[name] || DefaultJobIcon,\n    progress: scheduled ? Math.round(100*(progress / tasks.length)) || 0 : 0,//scheduled ? Math.min(Math.round(Math.random()*200),100) : 0,\n    id: id,\n    tasks: tasks\n  };\n  if (user) {\n    user.jobs.push(job.id);\n  }\n\n  return job;\n}\n\nexport let JobsByMonth = {\n};\n\nexport let JobsById = {\n};\n\nexport let TasksById = {\n};\n\nexport let UsersById = {\n};\n\nexport let UsersByTrade = {\n  Customer:[]\n};\n\nexport function CreateCustomerUser (project) {\n  const user = {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"\",\n  \t\"last_name\": project.name.substr(0,project.name.indexOf(' ')),\n  \t\"trade_name\": \"Customer\",\n    visible_projects: [project.id]\n  };\n\n  UsersByTrade[\"Customer\"].push(user);\n  Users.push(user);\n}\n\nexport function GenerateProjectJobs () {\n  const today = new Date();\n  let weekend_ref = {};\n  for (let w=0; w<WEEKEND.length; w++) {\n    weekend_ref[WEEKEND[w]] = true;\n  }\n  for (let u=0; u<Users.length; u++) {\n    const user = Users[u];\n    UsersByTrade[user.trade_name] = UsersByTrade[user.trade_name] || [];\n    UsersByTrade[user.trade_name].push(user);\n  }\n  for (let p=0; p<ProjectData.length; p++) {\n    let project = ProjectData[p];\n    let start_date = new Date(today.getFullYear(), today.getMonth(), today.getDate()-(p*2));//Math.round(project.temp_progress*2));\n    let weekend_adjuster = 0;\n\n    CreateCustomerUser(project);\n\n    for (let t=0; t<project.temp_jobs.length; t++) {\n\n      let date = new Date(start_date.getFullYear(), start_date.getMonth(), start_date.getDate()+t+weekend_adjuster);\n      let progress = t < p ? 100 :\n                      t === p ? Math.min(Math.round(Math.random()*100),100) : 0;\n      while (weekend_ref[date.getDay()]) {\n        weekend_adjuster++;\n        date = new Date(start_date.getFullYear(), start_date.getMonth(), start_date.getDate()+t+weekend_adjuster);\n      }\n      const job = GenerateJob(\n        project,\n        project.temp_jobs[t],\n        date,\n        (progress === 0 ? !!Math.round(Math.random()*100%4) : true),\n        progress\n      );\n      project.jobs.push(job.id);\n      if (!JobsByMonth[date.getFullYear() + \"_\" + date.getMonth()]) {\n        JobsByMonth[date.getFullYear() + \"_\" + date.getMonth()] = [];\n      }\n      JobsByMonth[date.getFullYear() + \"_\" + date.getMonth()].push(job);\n      JobsById[job.id] = job;\n    }\n  }\n}\n\n\nexport let ProjectData = [\n  {\n    name: \"Scott Livingroom Remodel\",\n    color: GenerateRandomColor(),//\"hsl(\"+GenerateRandomColor()+\", 80%, 40%)\",\n    id: 100,\n    jobs:[],\n    tasks:[],\n    temp_progress: Math.round(Math.random()*100) % 5,\n    temp_jobs: [\n      \"Sign Contract\",\n      \"Pre Deposit\",\n      \"Estimation\",\n      \"Demolition\",\n      \"Protection\",\n      \"Tile Installation\",\n      \"Clean Up\",\n      \"Inspection\",\n      \"Final Payment\"\n    ]\n  },\n  {\n    name: \"Johnson Kitchen Remodel\",\n    color: GenerateRandomColor(),//\"hsl(\"+GenerateRandomColor()+\", 80%, 40%)\",\n    id: 200,\n    jobs:[],\n    tasks:[],\n    temp_progress: Math.round(Math.random()*100) % 5,\n    temp_jobs: [\n      \"Sign Contract\",\n      \"Pre Deposit\",\n      \"Estimation\",\n      \"Demolition\",\n      \"Protection\",\n      \"Tile Installation\",\n      \"Plumbing\",\n      \"Clean Up\",\n      \"Inspection\",\n      \"Final Payment\"\n    ]\n  },\n  {\n    name: \"Smith Bathroom Remodel\",\n    color: GenerateRandomColor(),//\"hsl(\"+GenerateRandomColor()+\", 80%, 40%)\",\n    id: 300,\n    jobs:[],\n    tasks:[],\n    temp_progress: Math.round(Math.random()*100) % 5,\n    temp_jobs: [\n      \"Sign Contract\",\n      \"Pre Deposit\",\n      \"Estimation\",\n      \"Demolition\",\n      \"Protection\",\n      \"Tile Installation\",\n      \"Plumbing\",\n      \"Clean Up\",\n      \"Inspection\",\n      \"Final Payment\"\n    ]\n  },\n  {\n    name: \"Osborn Kitchen Tile\",\n    color: GenerateRandomColor(),//\"hsl(\"+GenerateRandomColor()+\", 80%, 40%)\",\n    id: 400,\n    jobs:[],\n    tasks:[],\n    temp_progress: Math.round(Math.random()*100) % 5,\n    temp_jobs: [\n      \"Sign Contract\",\n      \"Pre Deposit\",\n      \"Estimation\",\n      \"Demolition\",\n      \"Protection\",\n      \"Hardwood Installation\",\n      \"Plumbing\",\n      \"Clean Up\",\n      \"Inspection\",\n      \"Final Payment\"\n    ]\n  },\n  {\n    name: \"Harmon Home Exterior\",\n    color: GenerateRandomColor(),//\"hsl(\"+GenerateRandomColor()+\", 80%, 40%)\",\n    id: 500,\n    jobs:[],\n    tasks:[],\n    temp_progress: Math.round(Math.random()*100) % 5,\n    temp_jobs: [\n      \"Sign Contract\",\n      \"Pre Deposit\",\n      \"Estimation\",\n      \"Demolition\",\n      \"Protection\",\n      \"Tile Installation\",\n      \"Clean Up\",\n      \"Inspection\",\n      \"Final Payment\"\n    ]\n  },\n  {\n    name: \"Burke Bathroom Remodel\",\n    color: GenerateRandomColor(),//\"hsl(\"+GenerateRandomColor()+\", 80%, 40%)\",\n    id: 600,\n    jobs:[],\n    tasks:[],\n    temp_progress: Math.round(Math.random()*100) % 5,\n    temp_jobs: [\n      \"Sign Contract\",\n      \"Pre Deposit\",\n      \"Estimation\",\n      \"Demolition\",\n      \"Protection\",\n      \"Tile Installation\",\n      \"Plumbing\",\n      \"Clean Up\",\n      \"Inspection\",\n      \"Final Payment\"\n    ]\n  },\n];\n\n\n\nexport const Users = [\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Tmc Builders Inc\",\n    \"last_name\":\"\",\n    \"trade_name\":\"Contractor,Plumber\"\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Wood N'Things Llc\",\n    \"last_name\":\"\",\n    \"trade_name\":\"Contractor\"\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Cabinet Pros\",\n    \"last_name\":\"\",\n    \"trade_name\":\"Contractor\"\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Gilman Contractors Inc\",\n    \"last_name\":\"\",\n    \"trade_name\":\"Contractor\"\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Crowne Closets & Cabinetry\",\n    \"last_name\":\"\",\n    \"trade_name\":\"Contractor\"\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"The Structures Group Southwest Inc\",\n    \"last_name\":\"\",\n    \"trade_name\":\"Contractor\"\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"B Smith Construction Inc\",\n    \"last_name\":\"\",\n    \"trade_name\":\"Contractor\"\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Turner CO\",\n    \"last_name\":\"\",\n    \"trade_name\":\"Contractor\"\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Tower Mechanical Sv\",\n    \"last_name\":\"\",\n    \"trade_name\":\"Contractor\"\n  },\n\n\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Rice\",\n  \t\"last_name\": \"Werthmann\",\n  \t\"trade_name\": Trades[6]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Ollen\",\n  \t\"last_name\": \"Hampshire\",\n  \t\"trade_name\": Trades[5]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Michael\",\n  \t\"last_name\": \"Goermar\",\n  \t\"trade_name\": Trades[4]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Dianne\",\n  \t\"last_name\": \"Rossini\",\n  \t\"trade_name\": Trades[3]+\",Plumber\"\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Marjan\",\n  \t\"last_name\": \"Berishaj\",\n  \t\"trade_name\": Trades[2]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Robert\",\n  \t\"last_name\": \"Hudson\",\n  \t\"trade_name\": Trades[1]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Jeremy\",\n  \t\"last_name\": \"Tilton\",\n  \t\"trade_name\": Trades[0]+\",Plumber\"\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Lance\",\n  \t\"last_name\": \"Keever\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Manuel\",\n  \t\"last_name\": \"Patridge\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Herbert\",\n  \t\"last_name\": \"Baylor\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Jorge\",\n  \t\"last_name\": \"Brzezinski\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Calvin\",\n  \t\"last_name\": \"Youngquist\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Richard\",\n  \t\"last_name\": \"Sturtz\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Hugh\",\n  \t\"last_name\": \"Raymond\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Adrian\",\n  \t\"last_name\": \"Beutel\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Samuel\",\n  \t\"last_name\": \"Manwaring\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Tony\",\n  \t\"last_name\": \"Hallowell\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Randy\",\n  \t\"last_name\": \"Drumm\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Tim\",\n  \t\"last_name\": \"Geist\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Glen\",\n  \t\"last_name\": \"Lotz\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Jamie\",\n  \t\"last_name\": \"Bare\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Adrian\",\n  \t\"last_name\": \"Cabana\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Albert\",\n  \t\"last_name\": \"Mossman\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Richard\",\n  \t\"last_name\": \"Spikes\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Alexander\",\n  \t\"last_name\": \"Tanksley\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Earl\",\n  \t\"last_name\": \"Rutledge\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Leon\",\n  \t\"last_name\": \"Blasi\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Jerome\",\n  \t\"last_name\": \"Deegan\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Edgar\",\n  \t\"last_name\": \"Christine\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Thomas\",\n  \t\"last_name\": \"Alvardo\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  },\n  {\n    \"jobs\":[],\n    \"id\": Math.random(),\n    \"first_name\":\"Alexander\",\n  \t\"last_name\": \"Guidi\",\n  \t\"trade_name\": Trades[TradeDistributor[Math.floor(Math.random()*TradeDistributor.length)]]\n  }\n];\n\n\n\nGenerateProjectJobs();\n\n\n\n\n\nexport const LeadList = {};\n\nconst lead_status = [\n  \"new\",\n  \"scheduled\",\n  \"pending\",\n  \"estimate\",\n  \"approved\",\n  \"rejected\"\n]\nconst max_heat = {\n  new: 3,\n  scheduled: 7,\n  pending: 10,\n  estimate: 8,\n  approved: 6,\n  rejected: 3,\n};\nconst number_of_leads = {\n  0:20,\n  1:10,\n  2:5,\n  3:5,\n  4:6,\n  5:4,\n};\n\nfunction GenerateLeadsData () {\n  let id;\n  let name_counter = 0;\n  const today = new Date();\n  for (var i in number_of_leads) {\n    for (var l=0; l<number_of_leads[i]; l++) {\n      id = \"lead_\"+Math.random();\n      const status_value = i;//Math.floor(Math.random()*lead_status.length);\n      // const added_date = new Date(today.getFullYear(), today.getMonth(), today.getDate()-Math.floor(Math.random()*5*status_value));\n      let dates = {};\n      let last_date = today;\n      for (let l=status_value; l>=0; l--) {\n        last_date = new Date(last_date.getFullYear(), last_date.getMonth(), last_date.getDate()-Math.floor((Math.random()*max_heat[lead_status[status_value]])));\n        dates[lead_status[l]] = last_date;\n      }\n      let name = name_counter<random_names.length ? random_names[name_counter] : random_names[Math.floor(Math.random()*random_names.length)];\n      let name_list = name.split(\" \");\n      LeadList[id] = {\n        id: id,\n        index: l,\n        new_date: dates.new,\n        scheduled_date: dates.scheduled,\n        pending_date: dates.pending,\n        estimate_date: dates.estimate,\n        approved_date: dates.approved,\n        rejected_date: dates.rejected,\n        status: lead_status[status_value],\n        first_name: name_list[0],\n        last_name: name_list[1]\n      }\n      name_counter++\n    }\n  }\n}\n\n\nGenerateLeadsData();\n","import React from 'react'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { selectJob } from '../actions/actions';\n\nimport {WEEKEND, DAILY_WORK_HOURS} from '../config/account-settings'\nimport {DaysInMonth, SameDay} from '../utilities/date'\nimport {JobsById} from '../utilities/data'\n\nclass UserHeatmap extends React.Component {\n  state = {\n    selected_day:0,\n    jobs_by_day:[],\n    jobs_by_id:{}\n  };\n\n  calcJobsByDay () {\n    var jobs_by_day = [];\n    for (var d=0; d<DaysInMonth(this.props.month, this.props.year); d++) {\n      jobs_by_day.push([]);\n    }\n\n    for (var t=0; t<this.props.user.jobs.length; t++) {\n      const job_id = this.props.user.jobs[t];\n      let job = JobsById[job_id];\n      if (job.start_date && job.start_date.getMonth() === this.props.month) {\n        jobs_by_day[job.start_date.getDate()-1].push(job);\n      }\n    }\n    return jobs_by_day;\n  }\n  componentDidMount() {\n    var jobs_by_day = this.calcJobsByDay();\n    // setTimeout(()=>{\n      this.setState({\n        jobs_by_day: jobs_by_day\n      });\n\n    if (this.props.selected_day) {\n      this.setState({\n        selected_day: this.props.selected_day\n      });\n    }\n    // }, 100);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.month !== prevProps.month) {\n      this.setState({\n        jobs_by_day: this.calcJobsByDay()\n      });\n    }\n    if (this.props.selected_day && this.props.selected_day !== prevProps.selected_day) {\n      this.setState({\n        selected_day: this.props.selected_day\n      });\n    }\n  }\n\n  handleDayClick = (e) => {\n    const id=parseInt(e.currentTarget.dataset.id,10);\n    const index=parseInt(e.currentTarget.dataset.index,10);\n    this.props.handleDayClick(id, index);\n  }\n  handleJobClick = (e) => {\n    const id=e.currentTarget.dataset.id;\n    const project_id=e.currentTarget.dataset.project;\n    // this.props.handleJobClick(project_id, id);\n    this.props.selectJob(project_id, id);\n  }\n\n  render() {\n    const cells = [];\n    const day_cells = [];\n    const classes = [\n      \"jobs-0\",\n      \"jobs-1\",\n      \"jobs-2\",\n      \"jobs-3\",\n      \"jobs-4\",\n      \"jobs-5\",\n      \"jobs-6\",\n      \"jobs-7\",\n      \"jobs-8\"\n    ];\n\n    if (!this.props.selected_day && this.state.jobs_by_day && this.state.jobs_by_day.length === DaysInMonth(this.props.month, this.props.year)) {\n      for (var i=0; i<DaysInMonth(this.props.month, this.props.year); i++) {\n\n        const current_date = new Date(this.props.year, this.props.month, (i+1));\n        let value = 0;\n        for (var t=0; t<this.state.jobs_by_day[i].length; t++) {\n          const job = this.state.jobs_by_day[i][t];\n          const job_duration = (((job.end_date-job.start_date)/1000)/60/60);\n          value+=job_duration;\n        }\n        let weekend = \"\";\n        // value = Math.max(value,0);\n        for (var w=0; w<WEEKEND.length; w++) {\n          if (current_date.getDay() === WEEKEND[w]) {\n            // value = 0;\n            weekend = \" weekend\";\n          }\n        }\n        cells.push((\n          <li\n            key={this.props.user.id + \"_\" + i}\n            data-id={(i+1)}\n            data-index={(this.props.index)}\n            className={\"cell \" +\n              (classes[Math.min(Math.round(value*8/DAILY_WORK_HOURS),classes.length-1)]) +\n              weekend +\n              (((current_date.toDateString() === (new Date()).toDateString()) || (((this.props.month/20)+this.props.year) > (((new Date()).getMonth()/20)+(new Date()).getFullYear()) && i===0)) ? \" today\" : \"\") +\n              (this.props.selected_job_data && this.props.selected_job_data.start_date && SameDay(this.props.selected_job_data.start_date, current_date) && this.props.selected_job_data.assigned_user === this.props.user.id ? \" assigned\" : \"\")\n          } onClick={this.handleDayClick}\n          >{\n            value?(Math.round(value*10)/10)+\" hrs\":\"\"\n          }</li>\n        ));\n      }\n    }\n\n    if (this.state.selected_day) {\n      // The Day view\n\n      for (var h=0; h<24; h++) {\n        // const current_time = new Date(this.props.year, this.props.month, this.state.selected_day, h);\n        day_cells.push((\n          <li\n            key={\"hour-\"+h}\n            className={\n              \"day-cell\"\n            }\n          >\n          </li>\n        ));\n      }\n      if (this.state.jobs_by_day[this.state.selected_day-1]) {\n        //Represent Jobs on Day View\n        for (t=0; t<this.state.jobs_by_day[this.state.selected_day-1].length; t++) {\n          const job = this.state.jobs_by_day[this.state.selected_day-1][t];\n          const job_duration = (((job.end_date-job.start_date)/1000)/60/60/24)*100;\n          const job_start = ((job.start_date - new Date(this.props.year, this.props.month, this.state.selected_day))/1000/60/60/24)*100;\n          // if (this.props.user.trade_name !== \"Customer\" || job.project_id === this.props.selected_job_data.project_id) {\n            day_cells.push((\n              <li\n                key={\"job-\"+job.id}\n                data-id={job.id}\n                data-project={job.project_id}\n                className={\n                  \"job\" +\n                  (job.id === this.props.selected_job? \" selected\" : \"\")\n                }\n                style={{\n                  left: job_start+\"%\",\n                  maxWidth: job_duration+\"%\",\n                  minWidth: job_duration+\"%\",\n                  backgroundColor: job.project_color\n                }}\n                onClick={\n                  this.handleJobClick\n                }\n              >\n                <h4>\n                  <i className={job.icon}></i>\n                  <span><strong>{job.name}</strong></span>\n                </h4>\n                <div>{job.project_name}</div>\n              </li>\n            ));\n          // }\n        }\n      }\n    }\n\n    return (\n      <div className={\"user-schedule\" + (this.props.selected_day ? \" show-day\" : \"\")}>\n      { this.props.selected_day ? (\n        <ul className={\"day-schedule\"}\n          style={{\n            // transformOrigin: ((this.state.selected_day/DaysInMonth(this.props.month, this.props.year))*100) + \"% 0\"\n            // transition: \"opacity .5s ease, transform 0s ease 1s\"\n          }}>\n          {day_cells}\n        </ul>\n      ):(\n        <ul className={\"month-schedule\"}>\n          {cells}\n        </ul>\n      )}\n      </div>\n    );\n  }\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    // examplePropOne: state.state.examplePropOne,\n    // examplePropTwo: state.state.examplePropTwo\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({selectJob}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserHeatmap);\n","import React from 'react'\nimport {DaysInMonth, SameDay} from '../utilities/date'\nimport {Content} from '../utilities/content'\n\nconst WeekDaysShort = Content[window.loc].WeekDaysShort;\n\nclass UserHeatmapDates extends React.Component {\n  state = {\n    selected_day: 0\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.selected_day && this.props.selected_day !== prevProps.selected_day) {\n      this.setState({\n        selected_day: this.props.selected_day\n      });\n    }\n  }\n\n  handleDayClick = (e) => {\n    const id=parseInt(e.currentTarget.dataset.id,10);\n    this.props.handleDayClick(id)\n  }\n\n  render() {\n    const cells = [];\n    const day_cells = [];\n\n    for (var i=0; i<DaysInMonth(this.props.month, this.props.year); i++) {\n      var current_date = new Date(this.props.year, this.props.month, (i+1));\n      cells.push((\n        <li key={i+1} data-id={(i+1)} className={\n          \"cell\" +\n          ((current_date.toDateString() === (new Date()).toDateString()) ? \" today\" : \"\") +\n          (this.props.selected_job_data && this.props.selected_job_data.start_date && SameDay(this.props.selected_job_data.start_date, current_date) ? \" assigned\" : \"\")\n        } onClick={this.handleDayClick}>\n          <span>{i+1}</span>\n          <small>{WeekDaysShort[current_date.getDay()]}</small>\n        </li>\n      ));\n    }\n\n    if (this.state.selected_day) {\n      for (var h=0; h<24; h++) {\n        const current_time = new Date(this.props.year, this.props.month, this.state.selected_day, h);\n        day_cells.push((\n          <li key={h} className={\n            \"day-cell\"\n          }>\n            <span>{(current_time.getHours() % 12 || 12) + \" \" + (current_time.getHours() >= 12 ? \"pm\" : \"am\")}</span>\n          </li>\n        ));\n      }\n    }\n\n    return (\n      <div className={\"user-schedule heatmap-dates\" + (this.props.selected_day ? \" show-day\" : \"\")}>\n        { this.props.selected_day ? (\n          <ul className={\"day-schedule\"}\n            style={{\n              // transformOrigin: ((this.state.selected_day/DaysInMonth(this.props.month, this.props.year))*100) + \"% 0\"\n              // transition: \"opacity .5s ease, transform 0s ease 1s\"\n            }}>\n            {day_cells}\n          </ul>\n        ):(\n          <ul className={\"month-schedule\"}>\n            {cells}\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default UserHeatmapDates\n","export function SplitString (string, to_character) {\n  if (string.indexOf(to_character) > 0) {\n    return string.substr(0,string.indexOf(to_character));\n  }\n  return string;\n}\n\nexport function URLString (str) {\n  return str.replace(/\\s+/g, '-').toLowerCase();\n}\n","export const ArrayToObject = (array, keyField) =>\n   array.reduce((obj, item) => {\n     obj[item[keyField]] = item\n     return obj\n   }, {})\n\nexport const ObjectToArray = (object) => {\n  let array = [];\n  for (var o in object) {\n    array.push(object[o]);\n  }\n  return array;\n}\n\n\nexport const ArrayMove = (arr, old_index, new_index) => {\n if (new_index >= arr.length) {\n   var k = new_index - arr.length + 1;\n   while (k--) {\n     arr.push(undefined);\n   }\n }\n arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\n};\n","import React from 'react'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { updateUsersData } from '../actions/actions';\n\nimport UserHeatmap from './user-heatmap'\nimport UserHeatmapDates from './user-heatmap-dates'\nimport {DaysInMonth} from '../utilities/date'\nimport {Content} from '../utilities/content'\nimport {Users} from '../utilities/data'\nimport {SplitString} from '../utilities/string'\nimport {ObjectToArray} from '../utilities/array'\n// import ScrollToComponent from 'react-scroll-to-component'\n\nconst WeekDaysShort = Content[window.loc].WeekDaysShort;\nconst MonthNames = Content[window.loc].MonthNames;\nconst MonthNamesShort = Content[window.loc].MonthNamesShort;\n\nclass Scheduler extends React.Component {\n  state = {\n    sort: \"trade_name\",\n    trade_filter: \"all\",\n    date: new Date(),\n    selected_day: 0,\n    selected_index: 0,\n    loaded: false\n  };\n\n  componentDidMount() {\n    setTimeout(()=>{\n      let trades = {};\n      let users_by_id = {};\n      for (var i=0; i < Users.length; i++) {\n        trades[SplitString(Users[i].trade_name,\",\")] = !!SplitString(Users[i].trade_name,\",\");\n        users_by_id[Users[i].id] = Users[i];\n      }\n      let trade_names = Object.keys(trades);\n      trade_names.sort(function(a, b){\n        var x = a.toLowerCase();\n        var y = b.toLowerCase();\n        if (x < y) {return -1;}\n        if (x > y) {return 1;}\n        return 0;\n      });\n      this.setState({\n        trades: trades,\n        trade_names: trade_names,\n        // users: [...users],\n        // users_by_id: users_by_id,\n        trade_filter: \"all\",\n        loaded: true\n      });\n\n      this.props.updateUsersData(users_by_id);\n\n      if (this.props.selected_job) {\n        if (this.props.selected_job_data.start_date) {\n          this.gotoDate(this.props.selected_job_data.start_date);\n        } else if (this.props.selected_job_data.default_trade && trades[this.props.selected_job_data.default_trade]) {\n          this.setState({\n            trade_filter: this.props.selected_job_data.default_trade\n          });\n        }\n      }\n\n    }, 1000);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.selected_job !== prevProps.selected_job) {\n      // this.setState({\n      //   hidden: true\n      // });\n      // setTimeout(()=>{\n        // this.setState({hidden: false});\n        if (this.props.selected_job_data.start_date) {\n          this.setState({\n            trade_filter: \"all\"\n          });\n          this.gotoDate(this.props.selected_job_data.start_date);\n        }\n        else {\n          this.handleClearSelectedDay();\n          if (this.props.selected_job_data.default_trade && this.state.trades[this.props.selected_job_data.default_trade]) {\n            this.setState({\n              trade_filter: this.props.selected_job_data.default_trade\n            });\n          } else {\n            this.setState({\n              trade_filter: \"all\"\n            });\n          }\n        }\n      // }, 500);\n    }\n  }\n\n  selectSort = (e) => {\n    // let id=parseInt(e.currentTarget.dataset.id,10);\n    console.log(e.target.value);\n    this.setState({sort: e.target.value});\n  }\n\n  selectTradeFilter = (e) => {\n    // let id=parseInt(e.currentTarget.dataset.id,10);\n    console.log(e.target.value);\n    this.setState({trade_filter: e.target.value});\n  }\n\n  handleJobClick = (project_id, id) => {\n    // this.props.handleJobClick(project_id, id);\n    // this.props.selectJob(project_id, id);\n  }\n\n  handleDayClick = (day, index) => {\n    this.setState({\n      selected_day: day,\n      selected_index: index\n    });\n  }\n\n  handleClearSelectedDay = (e) => {\n    this.setState({\n      selected_day: 0\n    });\n  }\n\n  handleNextDay = (e) => {\n    let selected_day = this.state.selected_day;\n    var current_month = this.state.date;\n    if (selected_day === DaysInMonth(current_month.getMonth(), current_month.getFullYear())) {\n      this.handleNextMonth();\n      selected_day = 1;\n    } else {\n      selected_day++;\n    }\n    this.setState({\n      selected_day: selected_day\n    });\n  }\n  handlePrevDay = (e) => {\n    let selected_day = this.state.selected_day;\n    let new_month;\n    if (selected_day === 1) {\n      new_month = this.handlePrevMonth();\n      selected_day = DaysInMonth(new_month.getMonth(), new_month.getFullYear());\n    } else {\n      selected_day--;\n    }\n    this.setState({\n      selected_day: selected_day\n    });\n  }\n\n  handleGotoToday = (e) => {\n    var today = new Date();\n    this.gotoDate(today);\n  }\n\n  gotoDate = (date) => {\n    this.setState({\n      date: date,\n      selected_day: date.getDate()\n    });\n    if (this.props.selected_job && this.props.selected_job_data.assigned_user) {\n      if (this[this.props.selected_job_data.assigned_user]) {\n        this[this.props.selected_job_data.assigned_user].parentNode.parentNode.scrollTop = this[this.props.selected_job_data.assigned_user].offsetTop-200;\n      } else {\n        setTimeout(()=>{\n          if (this[this.props.selected_job_data.assigned_user]) {\n            this[this.props.selected_job_data.assigned_user].parentNode.parentNode.scrollTop = this[this.props.selected_job_data.assigned_user].offsetTop-200;\n          }\n        }, 100)\n      }\n    }\n  }\n\n  handleNextMonth = (e) => {\n    var now = this.state.date;\n    var current;\n    if (now.getMonth() === 11) {\n      current = new Date(now.getFullYear() + 1, 0, 1);\n    } else {\n      current = new Date(now.getFullYear(), now.getMonth() + 1, 1);\n    }\n    this.setState({\n      date: current\n    });\n    return current;\n  }\n\n  handlePrevMonth = (e) => {\n    var now = this.state.date;\n    var current;\n    if (now.getMonth() === 0) {\n      current = new Date(now.getFullYear() - 1, 11, 1);\n    } else {\n      current = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n    }\n    this.setState({\n      date: current\n    });\n    return current;\n  }\n\n  createRef = (user_id) => {\n    return (section) => { this[user_id] = section; };\n  }\n\n  render() {\n    const user_nodes = [];\n    const user_dates = [];\n    const trades = [];\n\n    if (this.state.loaded) {\n      let users = ObjectToArray(this.props.all_users_data);\n\n      for (var t=0; t<this.state.trade_names.length; t++) {\n        trades.push((\n          <option key={this.state.trade_names[t]} value={this.state.trade_names[t]}>{this.state.trade_names[t]}</option>\n        ));\n      }\n      let sort_value = this.state.sort;\n      let trade_value = this.state.trade_filter;\n      users.sort(function(a, b){\n        var x = a[sort_value] ? (a.trade_name.indexOf(trade_value)===0 ? \"a\" : a[sort_value].toLowerCase()) : \"zzzzzz\";\n        var y = b[sort_value] ? (b.trade_name.indexOf(trade_value)===0 ? \"a\" : b[sort_value].toLowerCase()) : \"zzzzzz\";\n        if (x < y) {return -1;}\n        if (x > y) {return 1;}\n        return 0;\n      });\n      for (var i=0; i<users.length; i++) {\n        if (this.state.trade_filter === \"all\" || (users[i].trade_name.indexOf(this.state.trade_filter)+1)){\n          // if (!this.props.selected_job || users[i].id !== this.props.selected_job_data.assigned_user) {\n            user_nodes.push((\n              <li key={\"user-\"+users[i].id}>\n                <h3>{users[i].first_name + \" \" + users[i].last_name}</h3>\n                <h4>{SplitString(users[i].trade_name,\",\")}</h4>\n              </li>\n            ));\n            user_dates.push((\n              <li key={\"user-\"+users[i].id} ref={this.createRef(users[i].id)}>\n                <UserHeatmap\n                  handleDayClick={this.handleDayClick}\n                  handleJobClick={this.handleJobClick}\n                  selected_day={this.state.selected_day}\n                  selected_index={this.state.selected_index}\n                  user={users[i]}\n                  month={this.state.date.getMonth()}\n                  year={this.state.date.getFullYear()}\n                  selected_job={this.props.selected_job}\n                  selected_job_data={this.props.selected_job_data}\n                  index={i}\n                />\n              </li>\n            ));\n          // }\n        }\n      }\n    }\n\n    return (\n      <div className={this.props.className + \" scheduler\" + (this.state.loaded?\" loaded\":\" loading\")} >\n        <div className=\"menu\">\n          <div>\n            <div className=\"select-container\">\n              <i className=\"fas fa-sort-alpha-down\"></i>\n              <select onChange={this.selectSort}>\n                <option value=\"trade_name\">sort by trade</option>\n                <option value=\"last_name\">sort by last name</option>\n                <option value=\"first_name\">sort by first name</option>\n              </select>\n              <i className=\"fas fa-caret-down\"></i>\n            </div>\n\n            <div className=\"select-container\">\n              <i className=\"fas fa-filter\"></i>\n              <select value={this.state.trade_filter} onChange={this.selectTradeFilter}>\n                <option value=\"all\">all</option>\n                {trades}\n              </select>\n              <i className=\"fas fa-caret-down\"></i>\n            </div>\n          </div>\n          {this.state.selected_day ? (\n            <div>\n              <button onClick={(e)=>{this.handlePrevDay(e)}}><i className=\"fas fa-angle-left\"></i><span>Previous Day</span></button>\n              <button onClick={(e)=>{this.handleClearSelectedDay(e)}}><i className=\"fas fa-angle-up\"></i><span>{MonthNames[this.state.date.getMonth()]}</span></button>\n              <button onClick={(e)=>{this.handleNextDay(e)}}><span>Next Day</span><i className=\"fas fa-angle-right\"></i></button>\n            </div>\n          ) : (\n            <div>\n              <button onClick={(e)=>{this.handlePrevMonth(e)}}><i className=\"fas fa-angle-left\"></i><span>Previous Month</span></button>\n              <button onClick={(e)=>{this.handleGotoToday(e)}}><span>Today</span></button>\n              <button onClick={(e)=>{this.handleNextMonth(e)}}><span>Next Month</span><i className=\"fas fa-angle-right\"></i></button>\n            </div>\n          )}\n        </div>\n        <div className=\"schedule-grid schedule-grid-header\">\n          <ul className=\"user-names\">\n            <li className=\"month-name\">\n              <h3>\n                {this.state.selected_day ?\n                  WeekDaysShort[new Date(this.state.date.getFullYear(), this.state.date.getMonth(), this.state.selected_day).getDay()] + \" \" + MonthNamesShort[this.state.date.getMonth()] + \" \" + this.state.selected_day :\n                  MonthNames[this.state.date.getMonth()]\n                }\n              </h3>\n              <h4>{this.state.date.getFullYear()}</h4>\n            </li>\n          </ul>\n          <ul className=\"heat-maps\">\n            <li>\n              <UserHeatmapDates\n                handleDayClick={this.handleDayClick}\n                selected_day={this.state.selected_day}\n                month={this.state.date.getMonth()}\n                year={this.state.date.getFullYear()}\n                selected_job={this.props.selected_job}\n                selected_job_data={this.props.selected_job_data}\n              />\n            </li>\n          </ul>\n        </div>\n        <div className={\"schedule-grid\"}>\n          <div className=\"load-background\"></div>\n          <ul className=\"user-names\">\n          {\n            user_nodes\n          }\n          </ul>\n          <ul className=\"heat-maps\">\n          {\n            user_dates\n          }\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    all_users_data: state.state.all_users_data,\n    // examplePropTwo: state.state.examplePropTwo\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({updateUsersData}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Scheduler);\n","import React from 'react'\nimport { connect } from 'react-redux';\n\nimport Scheduler from './scheduler'\n\nclass PageSchedule extends React.Component {\n  state = {\n    loaded: false\n  };\n  componentDidMount() {\n    setTimeout(()=>{\n      this.setState({loaded: true});\n    }, 1);\n  }\n  render() {\n    return (\n      <section id=\"page-schedule\" className={this.state.loaded?\"loaded\":\"loading\"}>\n        <Scheduler className=\"card\" />\n      </section>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    all_users_data: state.state.all_users_data,\n    all_project_data: state.state.all_project_data\n  }\n}\n\n\nexport default connect(mapStateToProps)(PageSchedule);\n","import React from 'react'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { updateLeadsData } from '../actions/actions';\n\nimport {DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\nconst heat_map = [\n  \"white\",\n  \"#fff3e9\",\n  \"#ffe5cf\",\n  \"#ffd7b6\",\n  \"#ffc99c\",\n  \"#ffbb83\",\n  \"#ffad69\",\n  \"#ff9f50\",\n  \"#ff9136\",\n];\n\nconst max_heat = {\n  new: 3,\n  scheduled: 7,\n  pending: 10,\n  estimate: 10,\n  approved: 10,\n  rejected: 10,\n};\n\nconst getItemStyle = (item, isDragging, draggableStyle) => {\n  const heat = Math.min(Math.round(((new Date() - item[item.status + \"_date\"])/1000/60/60/24)*8/max_heat[item.status]),heat_map.length-1);\n\n  return {\n    // some basic styles to make the items look a bit nicer\n    color: heat >= 8 ? \"white\" : \"black\",\n    border: \"1px solid #3a3a3a\",\n    // change background colour if dragging\n    background: heat_map[heat],//isDragging ? 'lightgreen' : 'grey',\n\n    // styles we need to apply on draggables\n    ...draggableStyle\n  }\n};\n\nconst getListStyle = isDraggingOver => ({\n    background: isDraggingOver ? '#e4e4e4' : 'white',\n    border: \"1px solid transparent\",\n    padding: \".5rem\",\n    width: \"100%\",\n    flex: \"1 1 auto\"\n});\n\n\nconst reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n\n    return result;\n};\n\n\nconst move = (source, destination, droppableSource, droppableDestination) => {\n  const status_key = {\n    \"new_leads\":\"new\",\n    \"scheduled_leads\":\"scheduled\",\n    \"pending_leads\":\"pending\",\n    \"estimate_leads\":\"estimate\",\n    \"approved_leads\":\"approved\",\n    \"rejected_leads\":\"rejected\",\n    \"other_leads\":\"\"\n  }\n  const sourceClone = Array.from(source);\n  const destClone = Array.from(destination);\n  const [removed] = sourceClone.splice(droppableSource.index, 1);\n\n  removed.status = status_key[droppableDestination.droppableId];\n  removed[removed.status + \"_date\"] = removed[removed.status + \"_date\"] || new Date();\n\n  destClone.splice(droppableDestination.index, 0, removed);\n\n  const result = {};\n  result.source = sourceClone;\n  result.dest = destClone;\n\n  return result;\n};\n\n\nclass LeadKanban extends React.Component {\n  state = {\n    sort: \"heat\"\n  }\n\n  onBeforeDragStart = () => {\n    /*...*/\n  };\n\n  onDragStart = () => {\n    /*...*/\n  };\n  onDragUpdate = () => {\n    /*...*/\n  };\n  onDragEnd = (lead_groups) => (result) => {\n    const { source, destination } = result;\n\n    // dropped outside the list\n    if (!destination) {\n      return;\n    }\n\n    if (source.droppableId === destination.droppableId) {\n      const leads = [...lead_groups[destination.droppableId]];\n      const items = reorder(\n        leads,\n        source.index,\n        destination.index\n      );\n\n      this.props.updateLeadsData(items.reduce((obj, item, index) => {\n        item.index = index\n        obj[item.id] = item\n        return obj\n      }, {}));\n\n    } else {\n      const source_leads = [...lead_groups[source.droppableId]];\n      const dest_leads = [...lead_groups[destination.droppableId]];\n      const moved = move(\n        source_leads,\n        dest_leads,\n        source,\n        destination\n      );\n\n      const items = moved.source.concat(moved.dest);\n\n      this.props.updateLeadsData(items.reduce((obj, item, index) => {\n        item.index = index\n        obj[item.id] = item\n        return obj\n      }, {}));\n    }\n  };\n\n\n  selectSort = (e) => {\n    // let id=parseInt(e.currentTarget.dataset.id,10);\n    console.log(e.target.value);\n    this.setState({sort: e.target.value});\n  }\n\n\n  render() {\n    let leads = {\n      new_leads: [],\n      pending_leads: [],\n      scheduled_leads: [],\n      estimate_leads: [],\n      approved_leads: [],\n      rejected_leads: [],\n      other_leads: []\n    }\n    for (let l in this.props.all_leads_data) {\n      switch (this.props.all_leads_data[l].status) {\n        case 'new':\n          leads.new_leads.push({...this.props.all_leads_data[l]});\n          break;\n        case 'pending':\n          leads.pending_leads.push({...this.props.all_leads_data[l]});\n          break;\n        case 'scheduled':\n          leads.scheduled_leads.push({...this.props.all_leads_data[l]});\n          break;\n        case 'estimate':\n          leads.estimate_leads.push({...this.props.all_leads_data[l]});\n          break;\n        case 'approved':\n          leads.approved_leads.push({...this.props.all_leads_data[l]});\n          break;\n        case 'rejected':\n          leads.rejected_leads.push({...this.props.all_leads_data[l]});\n          break;\n        default:\n          leads.other_leads.push({...this.props.all_leads_data[l]});\n      }\n    }\n\n    let sort_value = this.state.sort;\n\n\n    for (let l in leads) {\n      // leads[l].sort(function(a, b){\n      //   var x = a.index;\n      //   var y = b.index;\n      //   if (x < y) {return -1;}\n      //   if (x > y) {return 1;}\n      //   return 0;\n      // });\n      leads[l].sort(function(a, b){\n        var x = sort_value===\"heat\" ?\n          Math.round(((a[a.status + \"_date\"])/1000/60/60/24)*8/max_heat[a.status] - new Date()) : a[sort_value].toLowerCase();\n        var y = sort_value===\"heat\" ?\n          Math.round(((b[b.status + \"_date\"])/1000/60/60/24)*8/max_heat[b.status] - new Date()) : b[sort_value].toLowerCase();\n        if (x < y) {return -1;}\n        if (x > y) {return 1;}\n        return 0;\n      });\n      // leads[l].sort(function(a, b){\n      //   var x = Math.round(((new Date() - a[a.status + \"_date\"])/1000/60/60/24)*8/max_heat[a.status]);\n      //   var y = Math.round(((new Date() - b[b.status + \"_date\"])/1000/60/60/24)*8/max_heat[b.status]);\n      //   if (x < y) {return 1;}\n      //   if (x > y) {return -1;}\n      //   return 0;\n      // });\n    }\n\n    return (\n      <DragDropContext\n        onBeforeDragStart={this.onBeforeDragStart}\n        onDragStart={this.onDragStart}\n        onDragUpdate={this.onDragUpdate}\n        onDragEnd={this.onDragEnd(leads)}\n      >\n      <div className=\"lead-kanban\">\n        <div className=\"menu\">\n          <div>\n            <div className=\"select-container\">\n              <i className=\"fas fa-sort-alpha-down\"></i>\n              <select onChange={this.selectSort}>\n                <option value=\"heat\">sort by time in column</option>\n                <option value=\"last_name\">sort by last name</option>\n                <option value=\"first_name\">sort by first name</option>\n              </select>\n              <i className=\"fas fa-caret-down\"></i>\n            </div>\n          </div>\n        </div>\n        <div className=\"columns\">\n        { this.props.all_leads_data && [\n          (<div className=\"droppable-column\" key=\"new\">\n            <h3><i className=\"fas fa-star-of-life\"></i><span>new leads</span></h3>\n            <div>\n              <Droppable\n                className=\"droppable-column\"\n                droppableId=\"new_leads\"\n                type=\"LEAD\"\n              >\n                {(provided, snapshot) => (\n                  <div\n                    ref={provided.innerRef}\n                    style={getListStyle(snapshot.isDraggingOver)}>\n                    {\n                      leads.new_leads.map((item, index) => (\n                        <Draggable\n                          key={item.id}\n                          draggableId={item.id}\n                          index={index}>\n                          {(provided, snapshot) => (\n                            <div\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              {...provided.dragHandleProps}\n                              style={getItemStyle(\n                                item,\n                                snapshot.isDragging,\n                                provided.draggableProps.style\n                              )}>\n                              {item.first_name + \" \" + item.last_name}\n                            </div>\n                          )}\n                        </Draggable>\n                      ))\n                    }\n                    {provided.placeholder}\n                  </div>\n                )}\n              </Droppable>\n            </div>\n          </div>),\n          (<div className=\"droppable-column\" key=\"scheduled\">\n            <h3><i className=\"far fa-calendar-alt\"></i><span>estimate scheduled</span></h3>\n            <div>\n              <Droppable\n                className=\"droppable-column\"\n                droppableId=\"scheduled_leads\"\n                type=\"LEAD\"\n              >\n                {(provided, snapshot) => (\n                  <div\n                    ref={provided.innerRef}\n                    style={getListStyle(snapshot.isDraggingOver)}>\n                    {\n                      leads.scheduled_leads.map((item, index) => (\n                        <Draggable\n                          key={item.id}\n                          draggableId={item.id}\n                          index={index}>\n                          {(provided, snapshot) => (\n                            <div\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              {...provided.dragHandleProps}\n                              style={getItemStyle(\n                                item,\n                                snapshot.isDragging,\n                                provided.draggableProps.style\n                              )}>\n                              {item.first_name + \" \" + item.last_name}\n                            </div>\n                          )}\n                        </Draggable>\n                      ))\n                    }\n                    {provided.placeholder}\n                  </div>\n                )}\n              </Droppable>\n            </div>\n          </div>),\n          (<div className=\"droppable-column\" key=\"pending\">\n            <h3><i className=\"fas fa-clock\"></i><span>estimate pending</span></h3>\n            <div>\n              <Droppable\n                className=\"droppable-column\"\n                droppableId=\"pending_leads\"\n                type=\"LEAD\"\n              >\n                {(provided, snapshot) => (\n                  <div\n                    ref={provided.innerRef}\n                    style={getListStyle(snapshot.isDraggingOver)}>\n                    {\n                      leads.pending_leads.map((item, index) => (\n                        <Draggable\n                          key={item.id}\n                          draggableId={item.id}\n                          index={index}>\n                          {(provided, snapshot) => (\n                            <div\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              {...provided.dragHandleProps}\n                              style={getItemStyle(\n                                item,\n                                snapshot.isDragging,\n                                provided.draggableProps.style\n                              )}>\n                              {item.first_name + \" \" + item.last_name}\n                            </div>\n                          )}\n                        </Draggable>\n                      ))\n                    }\n                    {provided.placeholder}\n                  </div>\n                )}\n              </Droppable>\n            </div>\n          </div>),\n          (<div className=\"droppable-column\" key=\"estimate\">\n            <h3><i className=\"fas fa-clipboard\"></i><span>estimate sent</span></h3>\n            <div>\n              <Droppable\n                className=\"droppable-column\"\n                droppableId=\"estimate_leads\"\n                type=\"LEAD\"\n              >\n                {(provided, snapshot) => (\n                  <div\n                    ref={provided.innerRef}\n                    style={getListStyle(snapshot.isDraggingOver)}>\n                    {\n                      leads.estimate_leads.map((item, index) => (\n                        <Draggable\n                          key={item.id}\n                          draggableId={item.id}\n                          index={index}>\n                          {(provided, snapshot) => (\n                            <div\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              {...provided.dragHandleProps}\n                              style={getItemStyle(\n                                item,\n                                snapshot.isDragging,\n                                provided.draggableProps.style\n                              )}>\n                              {item.first_name + \" \" + item.last_name}\n                            </div>\n                          )}\n                        </Draggable>\n                      ))\n                    }\n                    {provided.placeholder}\n                  </div>\n                )}\n              </Droppable>\n            </div>\n          </div>),\n          (<div className=\"droppable-column\" key=\"approved\">\n            <h3><i className=\"fas fa-user-check\"></i><span>estimate approved</span></h3>\n            <div>\n              <Droppable\n                className=\"droppable-column\"\n                droppableId=\"approved_leads\"\n                type=\"LEAD\"\n              >\n                {(provided, snapshot) => (\n                  <div\n                    ref={provided.innerRef}\n                    style={getListStyle(snapshot.isDraggingOver)}>\n                    {\n                      leads.approved_leads.map((item, index) => (\n                        <Draggable\n                          key={item.id}\n                          draggableId={item.id}\n                          index={index}>\n                          {(provided, snapshot) => (\n                            <div\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              {...provided.dragHandleProps}\n                              style={getItemStyle(\n                                item,\n                                snapshot.isDragging,\n                                provided.draggableProps.style\n                              )}>\n                              {item.first_name + \" \" + item.last_name}\n                            </div>\n                          )}\n                        </Draggable>\n                      ))\n                    }\n                    {provided.placeholder}\n                  </div>\n                )}\n              </Droppable>\n            </div>\n          </div>),\n          (<div className=\"droppable-column\" key=\"rejected\">\n            <h3><i className=\"fas fa-user-times\"></i><span>estimate rejected</span></h3>\n            <div>\n              <Droppable\n                className=\"droppable-column\"\n                droppableId=\"rejected_leads\"\n                type=\"LEAD\"\n              >\n                {(provided, snapshot) => (\n                  <div\n                    ref={provided.innerRef}\n                    style={getListStyle(snapshot.isDraggingOver)}>\n                    {\n                      leads.rejected_leads.map((item, index) => (\n                        <Draggable\n                          key={item.id}\n                          draggableId={item.id}\n                          index={index}>\n                          {(provided, snapshot) => (\n                            <div\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              {...provided.dragHandleProps}\n                              style={getItemStyle(\n                                item,\n                                snapshot.isDragging,\n                                provided.draggableProps.style\n                              )}>\n                              {item.first_name + \" \" + item.last_name}\n                            </div>\n                          )}\n                        </Draggable>\n                      ))\n                    }\n                    {provided.placeholder}\n                  </div>\n                )}\n              </Droppable>\n            </div>\n          </div>)\n        ]}\n        </div>\n      </div>\n      </DragDropContext>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    all_leads_data: state.state.all_leads_data\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({updateLeadsData}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LeadKanban);\n","import React from 'react'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { updateLeadsData } from '../actions/actions';\n\nconst heat_map = [\n  \"white\",\n  \"#fff3e9\",\n  \"#ffe5cf\",\n  \"#ffd7b6\",\n  \"#ffc99c\",\n  \"#ffbb83\",\n  \"#ffad69\",\n  \"#ff9f50\",\n  \"#ff9136\",\n];\n\nconst node_heat = [\n  \"l-0\",\n  // \"l-1\",\n  // \"l-2\",\n  // \"l-3\",\n  // \"l-4\",\n  \"l-5\",\n  \"l-5\",\n  \"l-5\",\n  // \"l-6\",\n  // \"l-7\",\n  // \"l-8\",\n  // \"l-9\",\n  \"l-10\",\n];\n\nconst heat_map_color = {\n  new_leads: \"l-10\",\n  pending_leads: \"l-0\",\n  scheduled_leads: \"l-10\",\n  estimate_leads: \"l-10\",\n  approved_leads: \"l-10\",\n  rejected_leads: \"l-0\"\n}\n\nconst error_color = \"l-0\";\nconst base_color = \"l-10\";\n\nconst max_heat = {\n  new: 0,\n  scheduled: 10,\n  pending: 3,\n  estimate: 4,\n  approved: 0,\n  rejected: 0,\n};\n\nclass LeadChart extends React.Component {\n\n  render() {\n    let leads = {\n      new_leads: [],\n      pending_leads: [],\n      scheduled_leads: [],\n      estimate_leads: [],\n      approved_leads: [],\n      rejected_leads: []\n    }\n    var total_leads = 0;\n    for (let l in this.props.all_leads_data) {\n      switch (this.props.all_leads_data[l].status) {\n        case 'new':\n          leads.new_leads.push({...this.props.all_leads_data[l]});\n          break;\n        case 'pending':\n          leads.pending_leads.push({...this.props.all_leads_data[l]});\n          break;\n        case 'scheduled':\n          leads.scheduled_leads.push({...this.props.all_leads_data[l]});\n          break;\n        case 'estimate':\n          leads.estimate_leads.push({...this.props.all_leads_data[l]});\n          break;\n        case 'approved':\n          leads.approved_leads.push({...this.props.all_leads_data[l]});\n          break;\n        case 'rejected':\n          leads.rejected_leads.push({...this.props.all_leads_data[l]});\n          break;\n        default:\n          leads.other_leads.push({...this.props.all_leads_data[l]});\n      }\n      total_leads++;\n    }\n\n    const most_leads = Math.max(\n      leads.new_leads.length,\n      leads.pending_leads.length,\n      leads.scheduled_leads.length,\n      leads.estimate_leads.length,\n      leads.approved_leads.length,\n      leads.rejected_leads.length\n    )\n\n    const heat_map_ranges = {\n      new_leads: {range:20},\n      scheduled_leads: {range:30},\n      pending_leads: {range:4,flip:true},\n      estimate_leads: {range:5},\n      approved_leads: {range:15},\n      rejected_leads: {range:4,flip:true},\n    }\n\n    let nodes = {};\n    for (let l in leads) {\n      // leads[l].sort(function(a, b){\n      //   var x = a.index;\n      //   var y = b.index;\n      //   if (x < y) {return -1;}\n      //   if (x > y) {return 1;}\n      //   return 0;\n      // });\n      nodes[l] = (\n        <div className=\"chart-node\" key={l}>\n        <div\n          className={(heat_map_ranges[l].flip&&(leads[l].length > heat_map_ranges[l].range)) ?  error_color : base_color//heat_map_color[l]\n          //   heat_map_ranges[l] ? node_heat[\n          //   (heat_map_ranges[l].flip ?\n          //     Math.max(Math.min(node_heat.length - (Math.round(((leads[l].length)/heat_map_ranges[l].range) * 10)- 1),node_heat.length - 1), 0) :\n          //     Math.min(Math.round(((leads[l].length)/heat_map_ranges[l].range) * 10),node_heat.length-1)\n          //   )\n          // ] : \"\"\n        }\n          style={{\n            // width: (leads[l].length / total_leads)*50 + \"vmin\",\n            // height: (leads[l].length / total_leads)*50 + \"vmin\"\n            transform: \"scaleY(\" + ((leads[l].length / total_leads)*5) + \") scaleX(4) rotate(45deg)\"\n          }}\n        ></div>\n        { (heat_map_ranges[l].flip && leads[l].length > heat_map_ranges[l].range) &&\n          (<i className=\"fas fa-exclamation-triangle\"></i>)\n        }\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"lead-chart\">\n        <div className=\"bar\"></div>\n        <div className=\"chart\">\n          {nodes.new_leads}\n          {nodes.scheduled_leads}\n          {nodes.pending_leads}\n          {nodes.estimate_leads}\n          {nodes.approved_leads}\n          {nodes.rejected_leads}\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    all_leads_data: state.state.all_leads_data\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({updateLeadsData}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LeadChart);\n","import React from 'react'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { updateLeadsData } from '../actions/actions';\n\nimport LeadKanban from './lead-kanban';\nimport LeadChart from './lead-chart';\n\nimport {LeadList} from '../utilities/data'\n\nclass PageLeads extends React.Component {\n  state = {\n    loaded: false\n  };\n  componentDidMount() {\n    setTimeout(()=>{\n      this.props.updateLeadsData(LeadList);\n      this.setState({loaded: true});\n    }, 1000);\n  }\n  render() {\n    return (\n      <section id=\"page-leads\" className={this.state.loaded?\"loaded\":\"loading\"}>\n        <div className=\"load-background\"></div>\n        <div className=\"card f-nogrow\">\n          <LeadChart />\n        </div>\n        <div className=\"card d1 f-grow\">\n          <LeadKanban />\n        </div>\n      </section>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    all_leads_data: state.state.all_leads_data\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({updateLeadsData}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageLeads);\n","import React from 'react'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { selectJob, updateJobData, editJob } from '../actions/actions';\n\nimport {Content} from '../utilities/content'\nimport {JobsById} from '../utilities/data'\n\nconst MonthNames = Content[window.loc].MonthNames;\n\nclass Project extends React.Component {\n  state = {\n    loaded: false,\n    selected_job: \"none\"\n  };\n\n  getJobData () {\n    var months = {\n      Unscheduled: []\n    };\n    var jobs_by_id = {};\n    this.props.project_data.jobs.map((job_id, i) => {\n      let job_insert = {\n        ...JobsById[job_id]\n      };\n      jobs_by_id[job_insert.id] = job_insert;\n      if (!job_insert.start_date) {\n        months.Unscheduled.push(job_insert);\n        return true;\n      }\n      let job_month = job_insert.start_date.getMonth();\n      if (!months[job_month]) {\n        months[job_month] = [];\n      }\n      months[job_month].push(job_insert);\n      return true;\n    });\n\n    this.props.updateJobData(jobs_by_id);\n\n    return {jobs_by_id, months};\n  }\n\n  componentDidMount() {\n    var data = this.getJobData();\n    this.setState({\n      jobs_by_id: data.jobs_by_id,\n      months: data.months,\n      selected_job:this.props.selected_job\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.selected_job !== prevProps.selected_job) {\n      this.setState({\n        selected_job:this.props.selected_job\n      });\n    }\n    if (this.props.project_data.id !== prevProps.project_data.id) {\n      var data = this.getJobData();\n      this.setState({\n        jobs_by_id: data.jobs_by_id,\n        months: data.months,\n        selected_job:this.props.selected_job\n      });\n    }\n  }\n\n\n  selectJob = (e) => {\n    let id=e.currentTarget.dataset.id;\n    e.stopPropagation();\n    this.props.selectJob(this.props.id, id);\n  }\n\n  render() {\n    var display_months = [];\n    var today = new Date();\n    if (this.state.months) {\n      var month_keys = Object.keys(this.state.months);\n      var months = this.state.months;\n      var after_today = false;\n      month_keys.sort(function(a, b){return months[a] - months[b]});\n      for (var i=0; i<month_keys.length; i++) {\n        var month = this.state.months[month_keys[i]];\n        month.sort(function(a, b){return a.start_date - b.start_date});\n        for (var j=0; j<month.length; j++) {\n          var job = month[j];\n          var mark_today = \"\";\n          if (!after_today && job.start_date && job.start_date >= new Date(today.getFullYear(), today.getMonth(), today.getDate())) {\n            after_today = true;\n            mark_today = \" after-today\";\n          }\n          display_months.push((\n            <li\n              key={job.id}\n              data-id={job.id}\n              className={\n                (job.progress === 100 ? \"complete\" : job.progress > 0 ? \"progress\" : \"\") +\n                (\" \"+month_keys[i]) +\n                (job.start_date && (job.start_date.toDateString() === (new Date()).toDateString())?\" today\":\"\") +\n                mark_today +\n                (j === month.length-1?\" last-of-month\":\"\") +\n                (job.id===this.state.selected_job?\" selected\":\" not-selected\") +\n                ((j<month.length-1) && month[j+1].id===this.state.selected_job?\" job-before-selected\":\"\")\n              }\n              onClick={this.selectJob}\n            >\n              {\n                j===0?<h3>{MonthNames[month_keys[i]] || month_keys[i]}</h3>:[]\n              }\n              <span className=\"h-line\" />\n              <span className=\"selected-arrow\" />\n              <span className=\"date\">{(job.start_date ? job.start_date.getDate() : \"\")}</span>\n              <div className=\"job-box\">\n                <h4><i className={job.icon}></i><span className=\"job-name\">{job.name}</span></h4>\n              </div>\n              <span className=\"status\">\n                <span className=\"progress-bar\" style={{transform:\"scaleX(\"+(job.progress/100)+\")\"}}></span>\n                <span className=\"status-text\">{\n                  job.progress===100 ?\n                  (<i className=\"fas fa-check\"></i>):\n                  job.progress===0 ?\n                  (\"\"):\n                  (job.progress + \"%\")\n                }</span>\n              </span>\n            </li>\n          ));\n        };\n      };\n    }\n    return (\n      <article\n        className={\"project\" +\n          (this.props.last_selected?\" last_selected\":\"\")\n        }\n      >\n        <header>\n          <h2>{this.props.project_data.name}</h2>\n        </header>\n        <div className=\"header-color\" style={{\n          backgroundColor: this.props.project_data.color || \"black\"\n        }} />\n        <div className=\"timeline\">\n          {display_months}\n        </div>\n      </article>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    selected_job: state.state.selected_job,\n    selected_project: state.state.selected_project\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({selectJob, updateJobData, editJob}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Project);\n","import React from 'react';\nimport Project from './project';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport {selectJob} from '../actions/actions'\n\nclass ProjectList extends React.Component {\n  // constructor(props) {\n  //   super(props);\n  // }\n\n\n  selectProject = (id) => {\n    return (_e)=>{\n      this.props.selectJob(id, null);\n    };\n  }\n\n  render() {\n    let projects = [];\n    if (this.props.all_project_data) {\n      let counter = 0;\n      for (let p in this.props.all_project_data) {\n        projects.push((\n          <div\n            key={\"project-\"+this.props.all_project_data[p].id}\n            className={\"card\" + (counter<5?\" d\"+(counter+1):\" d5\")}\n            onClick={this.selectProject(this.props.all_project_data[p].id)}\n          >\n            <Project\n              id={this.props.all_project_data[p].id}\n              project_data={this.props.all_project_data[p]}\n            />\n          </div>\n        ));\n        counter++;\n      }\n    }\n\n    return (\n      <div>\n        {projects}\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    all_project_data: state.state.all_project_data\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({selectJob}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectList);\n","import React from 'react';\nimport RichTextEditor from 'react-rte';\n\nclass Editor extends React.Component {\n\n\n  state = {\n    value: RichTextEditor.createEmptyValue()\n  }\n\n  onChange = (value) => {\n    this.setState({value});\n    if (this.props.onChange) {\n      // Send the changes up to the parent component as an HTML string.\n      // This is here to demonstrate using `.toString()` but in a real app it\n      // would be better to avoid generating a string on each change.\n      this.props.onChange(\n        value.toString('html')\n      );\n    }\n  };\n\n  render () {\n    return (\n      <RichTextEditor\n        className=\"editor\"\n        value={this.state.value}\n        onChange={this.onChange}\n      />\n    );\n  }\n}\n\nexport default Editor\n","import React from 'react'\n\nconst ModalWarning = (props) => (\n  <section id=\"modal-warning\">\n    <header>\n      <h1><i className=\"fas fa-exclamation-triangle\"></i><span>{props.title || \"Warning\"}</span></h1>\n      <button\n        onClick={()=>{\n          window.closeModal();\n        }}\n        className=\"icon-button\"\n      >\n        <i className=\"fas fa-times\"></i>\n      </button>\n    </header>\n    <div className=\"message\">{props.message}</div>\n    <footer>\n      <button\n        onClick={()=>{\n          props.handleConfirm();\n          window.closeModal();\n        }}\n      >\n        <i className=\"fas fa-check\"></i>\n        <span>{props.confirm}</span>\n      </button>\n      <button\n        onClick={()=>{\n          props.handleCancel();\n          window.closeModal();\n        }}\n      >\n        <i className=\"fas fa-times\"></i>\n        <span>{props.cancel}</span>\n      </button>\n    </footer>\n  </section>\n)\n\nexport default ModalWarning\n","import React from 'react'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport {updateTaskData, editJob, completeTask, deleteTasks, editTask, addTask} from '../actions/actions'\n\nimport ModalWarning from './modal-warning'\nimport {TasksById} from '../utilities/data'\nimport {Content} from '../utilities/content'\nimport {ArrayMove} from '../utilities/array'\n\nconst DeleteAllTasksWarning = Content[window.loc].DeleteAllTasksWarning;\nconst MarkAllTasksCompleteWarning = Content[window.loc].MarkAllTasksCompleteWarning;\n\nclass TaskList extends React.Component {\n  state = {\n    loaded: false,\n    add_task_text: \"\",\n    temp_edit_text: \"\",\n    currently_editing: 0,\n    all_complete: false,\n    selected_job: null\n  };\n\n  callAPI () {\n    this.temp_api_call = setTimeout(()=>{\n      var tasks_by_id = {};\n\n      for (var i in TasksById) {\n        for (var t=0;t<this.props.all_job_data[this.props.selected_job].tasks.length; t++) {\n          if (this.props.all_job_data[this.props.selected_job].tasks[t] === TasksById[i].id) {\n            if (!this.props.all_task_data[TasksById[i].id]) {\n              tasks_by_id[TasksById[i].id] = {...TasksById[i]};\n            }\n          }\n        }\n      }\n\n      this.props.updateTaskData(tasks_by_id);\n\n      this.setState({\n        loaded: true,\n        selected_job: this.props.selected_job\n      })\n    }, 50);\n  }\n\n  componentDidMount () {\n    if (this.props.all_job_data[this.props.selected_job]) {\n      this.callAPI();\n    }\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.selected_job) {\n      if (this.props.selected_job !== prevProps.selected_job) {\n        this.callAPI();\n        this.setState({\n          loaded: false\n        });\n      }\n    }\n  }\n\n  componentWillUnmount () {\n    window.clearTimeout(this.temp_api_call);\n  }\n\n\n  checkIfAllComplete(job_tasks) {\n    let completed = true;\n    for (let t=0; t<job_tasks.length; t++) {\n      const task = this.props.all_task_data[job_tasks[t]];\n      if (!task.completed) {\n        completed = false;\n        break;\n      }\n    }\n    return completed && !!job_tasks.length;\n  }\n\n  handleTaskClick = (id) => {\n    return (_e) => {\n      if (this.state.currently_editing !== id) {\n        let task = {...this.props.all_task_data[id]};\n        task.completed = !task.completed;\n        this.props.editTask(id, {...task});\n        // this.setState({\n        //   tasks: tasks\n        // });\n      }\n    }\n  }\n\n  handleCompleteAll = () => {\n    const job_tasks = this.props.all_job_data[this.state.selected_job].tasks;\n    window.openModal((\n      <ModalWarning\n        message={(\n          <div>\n            <p>\n              <span>{MarkAllTasksCompleteWarning.message_1}</span>\n              <strong>{this.props.all_job_data[this.state.selected_job].name}</strong>\n              <span>{MarkAllTasksCompleteWarning.message_2}</span>\n            </p>\n            <p>{MarkAllTasksCompleteWarning.message_3}</p>\n          </div>\n        )}\n        cancel={MarkAllTasksCompleteWarning.cancel}\n        confirm={MarkAllTasksCompleteWarning.confirm}\n        handleConfirm={()=>{\n          let tasks = {};\n          for (var t=0; t<job_tasks.length; t++) {\n            let task = this.props.all_task_data[job_tasks[t]];\n            task.completed = true;\n            tasks[task.id] = task;\n          }\n          this.props.updateTaskData(tasks);\n        }}\n        handleCancel={()=>{}}\n      />\n    ));\n  }\n\n  handleIncompleteAll = () => {\n    let tasks = {};\n    const job_tasks = this.props.all_job_data[this.state.selected_job].tasks;\n    for (var t=0; t<job_tasks.length; t++) {\n      let task = this.props.all_task_data[job_tasks[t]];\n      task.completed = false;\n      tasks[task.id] = task;\n    }\n    this.props.updateTaskData(tasks);\n  }\n\n  handleDeleteAll = () => {\n    const job_tasks = this.props.all_job_data[this.state.selected_job].tasks;\n    window.openModal((\n      <ModalWarning\n        message={(\n          <div>\n            <p>\n              <span>{DeleteAllTasksWarning.message_1}</span>\n              <strong>{this.props.all_job_data[this.state.selected_job].name}</strong>\n              <span>{DeleteAllTasksWarning.message_2}</span>\n            </p>\n            <p>{DeleteAllTasksWarning.message_3}</p>\n            <p>{DeleteAllTasksWarning.message_4}</p>\n          </div>\n        )}\n        cancel={DeleteAllTasksWarning.cancel}\n        confirm={DeleteAllTasksWarning.confirm}\n        handleConfirm={()=>{\n          let tasks = [...job_tasks];\n          this.props.deleteTasks(tasks);\n        }}\n        handleCancel={()=>{}}\n      />\n    ));\n  }\n\n  handleDelete = (id) => {\n    return (e)=>{\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.deleteTasks([id]);\n      // delete tasks[id];\n      // this.setState({\n      //   tasks: tasks\n      // });\n    }\n  }\n\n\n  handleAddKeyPress = (e) => {\n    if(e.key === 'Enter'){\n      this.handleAddTask();\n    }\n  }\n\n  handleAddChange = (e) => {\n    this.setState({\n      add_task_text: e.currentTarget.value\n    });\n  }\n\n  handleAddTask = (e) => {\n    if (this.state.add_task_text) {\n      const id = \"task_\"+Math.random();\n      let task = {\n        id: id,\n        name: this.state.add_task_text,\n        completed: false\n      };\n\n      this.props.addTask(id, task, this.state.selected_job);\n\n      this.setState({\n        add_task_text: \"\"\n      });\n    }\n  }\n\n\n  handleEdit = (id, name) => {\n    return (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      this.setState({\n        currently_editing: id,\n        temp_edit_text: name\n      });\n    }\n  }\n\n  handleEditKeyPress = (e) => {\n    if(e.key === 'Enter'){\n      this.handleConfirmEdit(e);\n    }\n  }\n\n  handleEditChange = (e) => {\n    this.setState({\n      temp_edit_text: e.currentTarget.value\n    });\n  }\n\n  handleCancelEdit = () => {\n    return (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      this.setState({\n        currently_editing: null\n      });\n    }\n  }\n\n  handleConfirmEdit = () => {\n    return (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      let id=this.state.currently_editing;\n\n      this.props.editTask(id, {name: this.state.temp_edit_text});\n\n      this.setState({\n        currently_editing: null\n      });\n    }\n  }\n\n  updateTasks (tasks) {\n    // this.props.all_job_data[this.state.selected_job].tasks = tasks;\n    let progress = 0;\n    let total_progress = 0;\n    let tasks_by_id = {};\n    for (let t=0; t<tasks.length; t++) {\n      if (tasks[t].completed) {\n        progress++;\n      }\n      tasks_by_id[tasks[t].id] = tasks[t];\n    }\n    total_progress = Math.round(100*(progress / tasks.length)) || 0;\n\n    // this.props.updateJobProgress(this.state.selected_job, tasks, total_progress);\n    this.props.updateTaskData(tasks_by_id);\n    //UPDATE JOB\n\n    this.setState({\n      tasks: tasks,\n      all_complete: total_progress === 100\n    });\n  }\n\n  changeMode (mode) {\n    this.setState({\n      mode: mode\n    });\n  }\n\n  getMenu () {\n    const job_tasks = this.state.selected_job && this.state.loaded ? this.props.all_job_data[this.state.selected_job].tasks : [];\n    const menu = (\n      <div className=\"menu\">\n        <div>\n          <div className=\"button-group\">\n            <input type=\"text\" placeholder=\"task name\" value={this.state.add_task_text} onChange={this.handleAddChange} onKeyPress={this.handleAddKeyPress} />\n            <button onClick={(e)=>{this.handleAddTask(e)}}><i className=\"fas fa-plus\"></i><span>add task</span></button>\n          </div>\n        </div>\n        <div>\n          {(!this.checkIfAllComplete(job_tasks) || !job_tasks.length) ?(\n            <button onClick={(e)=>{this.handleCompleteAll(e)}} disabled={!job_tasks.length}><i className=\"fas fa-check-circle\"></i><span>mark all as complete</span></button>\n          ):(\n            <button onClick={(e)=>{this.handleIncompleteAll(e)}}><i className=\"far fa-circle\"></i><span>mark all as incomplete</span></button>\n          )}\n          <button onClick={(e)=>{this.handleDeleteAll()}} disabled={!job_tasks.length}><i className=\"fas fa-trash\"></i><span>delete all</span></button>\n        </div>\n      </div>\n    );\n    return menu;\n  }\n\n  handleTaskDragStart = (e) => {\n    this.dragged_id= e.target.dataset.id;\n    this.dragged_index= e.target.dataset.index;\n  }\n\n  handleTaskDragEnd = (e) => {\n    window.setStyle(``);\n    if (this.drop_id) {\n      this.handleTaskDrop(e);\n    }\n  }\n\n  handleTaskDragOver = (e) => {\n    e.preventDefault();\n    if (e.currentTarget.dataset.id !== this.drop_id) {\n      //To fix performance issues, rather than calling render, we change a stylesheet to apply styles\n      if (parseInt(e.currentTarget.dataset.index, 10) >= parseInt(this.dragged_index,10)) {\n        window.setStyle(`\n          [data-id=\"` + e.currentTarget.dataset.id + `\"]:after {\n            bottom: 0 !important;\n            opacity: 1 !important;\n          }\n        `);\n      } else {\n        window.setStyle(`\n          [data-id=\"` + e.currentTarget.dataset.id + `\"]:after {\n            top: 0 !important;\n            opacity: 1 !important;\n          }\n        `);\n      }\n      this.drop_id = e.currentTarget.dataset.id;\n      this.drop_index = e.currentTarget.dataset.index;\n    }\n  }\n\n  handleTaskDragLeave = (e) => {\n    e.preventDefault();\n  }\n\n  handleTaskDrop = (e) => {\n    e.preventDefault();\n    let tasks = [...this.props.all_job_data[this.state.selected_job].tasks];\n    let old_index = this.dragged_index;\n    let new_index = this.drop_index;\n\n    this.drop_id = null;\n    window.setStyle(``);\n\n    ArrayMove(tasks, parseInt(old_index,10), parseInt(new_index,10));\n\n    this.props.editJob(this.state.selected_job, {tasks});\n  }\n\n\n  render() {\n    let task_nodes = [];\n    if (this.state.selected_job) {\n      const job_tasks = this.props.all_job_data[this.state.selected_job].tasks;\n\n      if (job_tasks && this.state.loaded) {\n        let tasks = [...job_tasks];\n\n        for (var t=0; t<tasks.length; t++) {\n          const task = this.props.all_task_data[tasks[t]];\n          if (task) {\n            task_nodes.push((\n              <li\n                key={this.state.selected_job + \"_\" + task.id}\n                className={\n                  \"task\" +\n                  (task.completed ? \" completed\" : \"\") +\n                  (task.id === this.state.currently_editing ? \" currently-editing\" : \"\") +\n                  (this.state.drop_id === task.id ? (\" drop-\"+this.state.drop_location) : \"\")\n                }\n                data-id={task.id}\n                data-index={t}\n                onClick={this.handleTaskClick(task.id)}\n\n                draggable\n                onDrag={this.handleTaskDragStart}\n                onDragEnd={this.handleTaskDragEnd}\n\n                onDragOver={this.handleTaskDragOver}\n                onDragLeave={this.handleTaskDragLeave}\n                onDrop={this.handleTaskDrop}\n              >\n                <h3>\n                  <span className=\"icon-holder\"><i className=\"fas fa-check-circle check\"></i><i className=\"far fa-circle\"></i></span>\n                  {this.state.currently_editing === task.id ? (\n                    <input className=\"\" defaultValue={task.name} onChange={this.handleEditChange} onKeyPress={this.handleEditKeyPress} />\n                  ):(\n                    <span className=\"task-name\">{task.name}</span>\n                  )}\n                </h3>\n                {this.state.currently_editing === task.id ? (\n                  <div>\n                    <button className=\"icon-button\" onClick={this.handleConfirmEdit(task.id)} title=\"Apply\"><i className=\"fas fa-check\"></i></button>\n                    <button className=\"icon-button\" onClick={this.handleCancelEdit(task.id)} title=\"Cancel\"><i className=\"fas fa-times\"></i></button>\n                  </div>\n                ):(\n                  <div>\n                    <button className=\"icon-button\" onClick={this.handleEdit(task.id, task.name)} title=\"Edit Task\"><i className=\"fas fa-edit\"></i></button>\n                    <button className=\"icon-button\" onClick={this.handleDelete(task.id)} title=\"Delete Task\"><i className=\"fas fa-trash\"></i></button>\n                  </div>\n                )}\n              </li>\n            ));\n          }\n        }\n      }\n    }\n\n    return (\n      <div className={\"task-editor\" + (this.state.loaded?\"\":\" loading\")} >\n        {this.getMenu()}\n        <div className=\"task-list\">\n          <div className=\"load-background\"></div>\n          <ul>{task_nodes}</ul>\n        </div>\n\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    all_task_data: state.state.all_task_data,\n    all_job_data: state.state.all_job_data\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({updateTaskData, editJob, completeTask, deleteTasks, editTask, addTask}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TaskList);\n","import React from 'react'\n// import { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\n// import {selectJob} from '../actions/actions'\n\nimport Editor from './editor'\nimport Scheduler from './scheduler'\nimport TaskList from './task-list'\nimport {JobsById, TasksById} from '../utilities/data'\n\nclass JobDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loaded: false,\n      show_content: true,\n      detail_mode: \"schedule\",\n      job_data: null\n    }\n  }\n\n  callAPI (detail) {\n    if (this.props.selected_job) {\n      this.temp_api_call = setTimeout(()=>{\n        this.setState({\n          loaded: true\n        });\n        if (detail) {\n          this.setState({\n            detail_mode: JobsById[this.props.selected_job].start_date ? \"task\" : \"schedule\"\n          });\n        }\n        if (this.state.show_content){\n          this.setState({\n            job_data: JobsById[this.props.selected_job]\n          });\n        } else {\n          this.setState({\n            temp_job_data: JobsById[this.props.selected_job]\n          });\n        }\n      }, 30);\n    }\n  }\n\n  componentDidMount () {\n    this.callAPI(true);\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.props.selected_job !== prevProps.selected_job) {\n      this.setState({loaded: false, show_content: false});\n      //API CALL HERE\n      this.callAPI();\n\n      this.show_content_animation = setTimeout(()=>{\n        this.setState({\n          show_content: true\n        });\n        if (this.state.loaded) {\n          this.setState({\n            job_data: this.state.temp_job_data,\n            temp_job_data: null\n          });\n        }\n      }, 500);\n    }\n  }\n\n  componentWillUnmount () {\n    window.clearTimeout(this.temp_api_call);\n    window.clearTimeout(this.show_content_animation);\n  }\n\n  changeMode (mode) {\n    this.setState({\n      detail_mode: mode\n    });\n  }\n\n  updateJobProgress = (job_id, tasks, progress) => {\n    JobsById[job_id].progress = progress;\n    let task_ids = [];\n    let task;\n    for (let t=0; t<tasks.length; t++) {\n      task = tasks[t];\n      task_ids.push(task.id);\n      TasksById[task.id] = {...task};\n    }\n    JobsById[job_id].tasks = task_ids;\n    this.props.updateJob(job_id, {...JobsById[job_id]});\n  }\n\n  render () {\n    return (\n      <div className={\"job-detail-panel\" +\n        (this.state.loaded&&this.state.show_content?\" loaded\":\"\")\n      }>\n        { this.props.selected_job ? (\n          this.state.job_data && (\n            <div>\n              <div>\n                <header>\n                  <h2>{this.state.job_data.name}</h2>\n                  <div>\n                    <button className={this.state.detail_mode === \"schedule\"?\"selected\":\"\"} onClick={()=>{this.changeMode(\"schedule\")}}>schedule job</button>\n                    <button className={this.state.detail_mode === \"task\"?\"selected\":\"\"} onClick={()=>{this.changeMode(\"task\")}}>manage tasks</button>\n                    <button className={this.state.detail_mode === \"note\"?\"selected\":\"\"} onClick={()=>{this.changeMode(\"note\")}}>take notes</button>\n                  </div>\n                </header>\n                <div className=\"tab-panel\">\n                  <div className={this.state.detail_mode === \"note\"?\"show\":\"\"}>\n                    {\n                      this.state.detail_mode === \"note\" &&\n                      (<Editor\n                        value=\"These are some notes!\"\n                        onChange={(value)=>{console.log(value);}}\n                      />)\n                    }\n                  </div>\n                  <div className={this.state.detail_mode === \"task\"?\"show\":\"\"}>\n                    {\n                      this.state.detail_mode === \"task\"?\n                        (<TaskList\n                          selected_job={this.state.job_data.id}\n                          default_trade={this.state.job_data.default_trade}\n                         />)\n                      :\n                        []\n                    }\n                  </div>\n                  <div className={this.state.detail_mode === \"schedule\"?\"show\":\"\"}>\n                    {\n                      this.state.detail_mode === \"schedule\"&&\n                      (<Scheduler\n                        selected_job={this.state.job_data.id}\n                        selected_job_data={this.state.job_data}\n                        default_trade={this.state.job_data.default_trade}\n                       />)\n                    }\n                  </div>\n                </div>\n              </div>\n\n              <span className=\"no-task-selected load-screen\">\n                <h3>loading...</h3>\n              </span>\n            </div>\n          )\n        ):(\n          <div className=\"no-task-selected\">\n            <i className=\"fas fa-hand-point-up\"></i>\n            <h3>select a job</h3>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    selected_job: state.state.selected_job\n  }\n}\n\n// const mapDispatchToProps = (dispatch) => {\n//   return bindActionCreators({selectJob}, dispatch);\n// }\n\nexport default connect(mapStateToProps)(JobDetails);\n","import React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport {selectJob} from '../actions/actions'\n\nimport Project from './project';\nimport JobDetails from './job-details';\n\nclass ProjectEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loaded: false,\n      last_selected_project: this.props.selected_project\n    };\n  }\n  componentDidMount() {\n    // setTimeout(()=>{\n    //   var projects_by_id = {};\n    //   for (var p=0;p<ProjectData.length; p++) {\n    //     projects_by_id[ProjectData[p].id]=ProjectData[p];\n    //   }\n    //   this.setState({\n    //     loaded: true,\n    //     projects_by_id: projects_by_id\n    //   });\n    // }, 50);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.selected_project !== prevProps.selected_project) {\n      this.selectProject(this.props.selected_project, this.props.selected_job);\n    }\n  }\n\n  componentWillUnmount () {\n    window.clearTimeout(this.transition_finish);\n    window.clearTimeout(this.transition);\n  }\n\n  selectProject (id, job_id) {\n    this.transition = setTimeout(()=>{\n      this.setState({\n        transition_last_selected_project: false,\n      });\n    }, 50);\n    this.transition_finish = setTimeout(()=>{\n      this.setState({\n        last_selected_project: this.props.selected_project\n      });\n    }, 1500);\n    this.setState({\n      transition_last_selected_project: true\n    });\n  }\n\n  handleCloseButton = (e) => {\n    this.props.selectJob(null, null);\n  }\n\n  render() {\n    let color;\n    if (this.props.all_project_data && this.props.all_project_data[this.props.selected_project]) {\n      color = this.props.all_project_data[this.props.selected_project].color || \"black\";\n    }\n    return (\n      <div id=\"project-details\" className={(this.props.selected_project && this.props.all_project_data?\" show\":\"\")}>\n        <div className=\"card\">\n          <div className=\"header-color\" style={{\n            backgroundColor: color\n          }} />\n\n          <div className=\"button-menu\">\n            <button onClick={this.handleCloseButton} className=\"icon-button\"><i className=\"fas fa-times\"></i></button>\n          </div>\n\n          <div className={ \"selected_project\" +\n            (this.state.transition_last_selected_project ? \" transition_last_selected\" : \"\")\n          }>\n            {this.state.last_selected_project && (\n              <Project\n                id={this.state.last_selected_project}\n                last_selected={true}\n                project_data={this.props.all_project_data[this.state.last_selected_project]}\n              />\n            )}\n            { this.props.selected_project &&\n              (<Project\n                id={this.props.selected_project}\n                project_data={this.props.all_project_data[this.props.selected_project]}\n              />)\n            }\n          </div>\n          <JobDetails />\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    selected_job: state.state.selected_job,\n    selected_project: state.state.selected_project,\n    all_project_data: state.state.all_project_data\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({selectJob}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectEditor);\n","import React from 'react';\nimport {\n  Route\n} from 'react-router-dom'\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport {updateAllProjectData, selectJob} from '../actions/actions'\n\nimport ProjectList from './project-list';\nimport ProjectEditor from './project-editor';\n\nimport {URLString} from '../utilities/string';\nimport {ProjectData} from '../utilities/data';\n\nclass PageProjects extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loaded: false\n    };\n  }\n\n  componentDidMount() {\n    this.temp_load_data = setTimeout(()=>{\n      var projects_by_id = {};\n      const location_array = this.props.location.pathname.split(\"/\");\n      let selected_id;\n\n      for (var p=0;p<ProjectData.length; p++) {\n        projects_by_id[ProjectData[p].id]=ProjectData[p];\n        if (URLString(ProjectData[p].name) === location_array[2]) {\n          selected_id = ProjectData[p].id;\n        }\n      }\n      this.props.updateAllProjectData(projects_by_id);\n      if (location_array[2]) {\n        this.props.selectJob(selected_id, null);\n      }\n\n      setTimeout(()=>{\n        this.setState({\n          loaded: true,\n        });\n      }, 1);\n    }, 2000);\n  }\n\n  componentWillUnmount () {\n    window.clearTimeout(this.temp_load_data);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.selected_project !== prevProps.selected_project) {\n      this.props.history.push(\"/projects\" + (this.props.selected_project ? \"/\" + URLString(this.props.all_project_data[this.props.selected_project].name) : \"\"));\n    }\n  }\n\n  render() {\n    return (\n      <section id=\"page-projects\" className={\"projects \" + (this.state.loaded?\"loaded\":\"loading\")}>\n        <div className=\"load-background\"></div>\n        <Route path=\"/projects/:p\" component={ProjectEditor} />\n        <Route path=\"/projects\" component={ProjectList} />\n      </section>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    selected_project: state.state.selected_project,\n    all_project_data: state.state.all_project_data\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({updateAllProjectData, selectJob}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageProjects);\n","import React from 'react'\n\nclass PageSchedule extends React.Component {\n  render() {\n    return (\n      <section id=\"page-404\">\n        <div>\n          <h1>{\"404\"}</h1>\n          <h2>{\"Your request could not be found.\"}</h2>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default PageSchedule\n","import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { signOutUser } from '../actions/actions';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom'\n\nimport Header from './header';\nimport Footer from './footer';\n\nimport PageSignIn from './page-signin';\nimport PageSetup from './page-setup';\nimport PageDashboard from './page-dashboard';\nimport PageSchedule from './page-schedule';\nimport PageLeads from './page-leads';\nimport PageProjects from './page-projects';\nimport Page404 from './page-404';\n\n// import API from '../utilities/api';\nimport Axios from 'axios';\n\nimport {HOMEPAGE, applicationConfig} from '../config/config';\n\n\n// import * as Msal from 'msal';\nlet Msal = window.Msal;\n\nclass App extends Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n\n    }\n  }\n  componentDidMount() {\n    window.openModal = (modal_object) => {\n      this.setState({\n        modal: modal_object\n      });\n      setTimeout(()=>{\n        this.setState({modal_state: \"show\"});\n      }, 50);\n    }\n    window.closeModal = () => {\n      this.setState({modal_state: \"\"});\n      setTimeout(()=>{\n        this.setState({\n          modal: null\n        });\n      }, 750);\n    }\n    // Create a new style element\n    const el = document.createElement('style');\n    el.type = 'text/css';\n\n    // Add it to the head of the document\n    const head = document.querySelector('head');\n    head.appendChild(el);\n\n    // At some future point we can totally redefine the entire content of the style element\n    window.setStyle = (newStyles) => {\n      el.innerHTML = newStyles;\n    };\n\n\n    function authCallback(errorDesc, token, error, tokenType) {\n        //This function is called after loginRedirect and acquireTokenRedirect. Not called with loginPopup\n        // msal object is bound to the window object after the constructor is called.\n      if (token) {\n        console.log(token);\n      }\n      else {\n        console.log(error + \":\" + errorDesc);\n      }\n    }\n\n    if (!window.clientApplication)\n    {\n      window.clientApplication = new Msal.UserAgentApplication(applicationConfig.clientID, applicationConfig.authority, authCallback);\n    }\n\n  }\n\n  render() {\n    const {current_user} = this.props;\n    const homepage = current_user ? current_user.config.homepage || current_user.company_config.homepage || HOMEPAGE : HOMEPAGE;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('access_token');\n    // if (code) {\n    //   Axios.post(`https://projul.b2clogin.com/projul.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_siupin`,{\n    //     grant_type: \"authorization_code\",\n    //     code: code,\n    //     scope: \"https://projul.onmicrosoft.com/dev-api/user_impersonation openid offline_access\",\n    //     redirect_uri: \"https://localhost.projul.com:3000\",\n    //     client_id: \"097b5df2-496e-4e2a-87ac-dcb775b2b170\",\n    //     client_secret: \"`ihr869S(H7(57IVC7yx5D-6\"\n    //   }, {\n    //     headers: {\n    //       'Content-Type':\"application/x-www-form-urlencoded\"\n    //     }\n    //   }).then(res => {\n    //     console.log(res);\n    //     console.log(res.data);\n    //   });\n    // }\n\n    return (\n      <Router>\n        <div id=\"app\">\n          { this.state.modal && (\n            <div id=\"modal-container\" className={this.state.modal_state}>{this.state.modal}</div>\n          )}\n          <Route component={Header} />\n          <main>\n            <Switch>\n              <Route exact path=\"/ah-geez-404\" component={Page404} key=\"404\" />\n\n              { current_user ? (\n                !current_user.company_setup || !current_user.user_setup ? [\n                  <Route exact path=\"/setup\" component={PageSetup} key=\"setup\" />,\n                  <Redirect to=\"/setup\" key=\"to-setup\" />\n                ]:[\n                  <Redirect exact from=\"/signin\" to={homepage} key=\"to-home-from-signin\" />,\n                  <Redirect exact from=\"/\" to={homepage} key=\"to-home\" />,\n                  <Route exact path=\"/dashboard\" component={PageDashboard} key=\"dashboard\" />,\n                  <Route path=\"/projects\" component={PageProjects} key=\"projects\" />,\n                  <Route exact path=\"/schedule\" component={PageSchedule} key=\"schedule\" />,\n                  <Route path=\"/leads\" component={PageLeads} key=\"leads\" />\n                ]\n              ):[\n                // !code ? [\n                //   <Route component={PageSignIn} key=\"sign-in\" />\n                // ]:[\n                  <Route exact path=\"/\" component={PageSignIn} key=\"sign-in\" />,\n                  <Redirect to=\"/\" key=\"to-home\" />\n                // ]\n              ]}\n              <Route component={Page404} />\n              <Redirect to=\"/ah-geez-404\" key=\"to-404\" />\n            </Switch>\n          </main>\n          <Footer />\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    current_user: state.state.current_user\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({signOutUser}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/store';\nimport './styles/app.css';\nimport App from './components/app';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.694152e3.png\";"],"sourceRoot":""}