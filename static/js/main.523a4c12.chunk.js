(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/logo.694152e3.png"},20:function(e,t,a){e.exports=a.p+"static/media/loading-animation.cfc4ecc9.gif"},21:function(e,t,a){e.exports=a(32)},30:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(16),r=a.n(l),o=a(35),i=a(2),c=a(3),d=a(5),m=a(4),h=a(6),u=a(33),p=a(37),_=a(36),f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={loaded:!1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({loaded:!0})},50)}},{key:"render",value:function(){return s.a.createElement("section",{id:"dash-job-list"},s.a.createElement("h2",null,"today's job list"),s.a.createElement("ul",null,s.a.createElement("li",null),s.a.createElement("li",null),s.a.createElement("li",null),s.a.createElement("li",null),s.a.createElement("li",null)))}}]),t}(s.a.Component),g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={loaded:!1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({loaded:!0})},50)}},{key:"render",value:function(){return s.a.createElement("section",{id:"dash-leads-list"},s.a.createElement("h2",null,"leads"),s.a.createElement("h3",null,"need to be contacted"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("span",null,"Luke Skywalker "),s.a.createElement("span",null,"luke.skywaler@starwars.com"))),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("span",null,"Luke Skywalker "),s.a.createElement("span",null,"luke.skywaler@starwars.com"))))}}]),t}(s.a.Component),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={loaded:!1},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({loaded:!0})},50)}},{key:"render",value:function(){return s.a.createElement("section",{id:"page-dashboard"},s.a.createElement("div",{className:this.state.loaded?"loaded":"unloaded"},s.a.createElement("div",{className:"card d1"},s.a.createElement(f,null)),s.a.createElement("div",{className:"card d2"},s.a.createElement(g,null))),s.a.createElement("div",{className:this.state.loaded?"loaded":"unloaded"},s.a.createElement("div",{className:"card d3"},s.a.createElement("h2",null,"project progress"))))}}]),t}(s.a.Component),E=a(12);window.loc="en";var j={en:{MonthNames:["January","Fabruary","March","April","May","June","July","August","September","October","November","December"],MonthNamesShort:["Jan","Fab","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WeekDaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],DeleteAllTasksWarning:{message_1:"You're about to delete all of the tasks for the job: ",message_2:".",message_3:"This cannot be undone.",message_4:"Are you sure?",confirm:"delete tasks",cancel:"cancel"},MarkAllTasksCompleteWarning:{message_1:"You're about to mark all of the tasks for the job: ",message_2:" as completed.",message_3:"Are you sure?",confirm:"they're all done!",cancel:"hang on"}}},y=[0,6],v=8,k={},M=["#1abc9c","#16a085","#27ae60","#3498db","#2980b9","#4a69bd","#6a89cc","#60a3bc","#079992","#3c6382","#d35400","#e74c3c","#e15f41","#e77f67","#c0392b"];function C(){var e=M[Math.round(Math.random()*(M.length-1))];return k[e]?C():(k[e]=!0,e)}var D=[0,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9],w=["Project Manager","Operations Manager","Plumber","Technician","Electrician","Laborer","Dry Wall Installer","Tile Setter","Hardwood Installer","Framer"],S={"Sign Contract":"Customer","Pre Deposit":"Customer",Estimation:"Project Manager",Demolition:"Laborer",Protection:"Laborer","Tile Installation":"Tile Setter","Hardwood Installation":"Hardwood Installer",Plumbing:"Plumber","Clean Up":"Laborer",Inspection:"Project Manager","Final Payment":"Customer"},N={"Sign Contract":["Sign contract"],"Pre Deposit":["Recieve pre deposit"],Estimation:["Complete Estimation"],Demolition:["Break it down"],Protection:["Lay down plastic","Tape up walls"],"Tile Installation":["Put the tile in"],"Hardwood Installation":["Put the hardwood in"],Plumbing:["Fix the pipes"],"Clean Up":["Clean up mess"],Inspection:["Complete Inspection"],"Final Payment":["Reviece final payment"]},O={"Sign Contract":"fas fa-file-signature","Pre Deposit":"fas fa-dollar-sign",Estimation:"fas fa-balance-scale",Demolition:"fas fa-hammer",Protection:"fas fa-tape","Tile Instalation":"fas fa-toolbox",Plumbing:"fas fa-tint","Clean Up":"fas fa-broom",Inspection:"fas fa-clipboard-list","Final Payment":"fas fa-dollar-sign"},T="fas fa-toolbox";var P=0;function x(e,t,a,n,s){P++;var l,r=6+Math.random()*v/4,o=Math.max(1,r+Math.random()*v),i="t"+P+"p"+e.id,c=S[t];if(n&&c&&F[c])if("Customer"===c){for(var d=0;d<F[c].length;d++)e.id===F[c][d].visible_projects[0]&&(l=F[c][d]);l||(n=!1)}else l=F[c][Math.floor(Math.random()*F[c].length)];else n=!1;var m=function(e,t,a,n){var s=[],l="";if(N[e])for(var r=0;r<N[e].length;r++)l="task_"+Math.random(),J[l]={name:N[e][r],description:'"'+N[e][r]+'" is a cool task.',completed:!(!t||!a)&&!!(Math.round(100*Math.random())%5),id:l,job:n},s.push(l);return s}(t,n,s,i);s=0;for(var h=0;h<m.length;h++)m[h].completed&&s++;var u={start_date:n?new Date(a.getFullYear(),a.getMonth(),a.getDate(),r):null,end_date:n?new Date(a.getFullYear(),a.getMonth(),a.getDate(),o,-Math.round(10*Math.random())):null,assigned_user:n?l.id:null,project_id:e.id,project_color:e.color,project_name:e.name,default_trade:c,name:t,icon:O[t]||T,progress:n&&Math.round(s/m.length*100)||0,id:i,tasks:m};return l&&l.jobs.push(u.id),u}var A={},I={},J={},F={Customer:[]};function H(e){var t={jobs:[],id:Math.random(),first_name:"",last_name:e.name.substr(0,e.name.indexOf(" ")),trade_name:"Customer",visible_projects:[e.id]};F.Customer.push(t),L.push(t)}var Y=[{name:"Scott Livingroom Remodel",color:C(),id:100,jobs:[],temp_progress:Math.round(100*Math.random())%5,temp_jobs:["Sign Contract","Pre Deposit","Estimation","Demolition","Protection","Tile Installation","Clean Up","Inspection","Final Payment"]},{name:"Johnson Kitchen Remodel",color:C(),id:200,jobs:[],temp_progress:Math.round(100*Math.random())%5,temp_jobs:["Sign Contract","Pre Deposit","Estimation","Demolition","Protection","Tile Installation","Plumbing","Clean Up","Inspection","Final Payment"]},{name:"Smith Bathroom Remodel",color:C(),id:300,jobs:[],temp_progress:Math.round(100*Math.random())%5,temp_jobs:["Sign Contract","Pre Deposit","Estimation","Demolition","Protection","Tile Installation","Plumbing","Clean Up","Inspection","Final Payment"]},{name:"Osborn Kitchen Tile",color:C(),id:400,jobs:[],temp_progress:Math.round(100*Math.random())%5,temp_jobs:["Sign Contract","Pre Deposit","Estimation","Demolition","Protection","Hardwood Installation","Plumbing","Clean Up","Inspection","Final Payment"]},{name:"Harmon Home Exterior",color:C(),id:500,jobs:[],temp_progress:Math.round(100*Math.random())%5,temp_jobs:["Sign Contract","Pre Deposit","Estimation","Demolition","Protection","Tile Installation","Clean Up","Inspection","Final Payment"]},{name:"Burke Bathroom Remodel",color:C(),id:600,jobs:[],temp_progress:Math.round(100*Math.random())%5,temp_jobs:["Sign Contract","Pre Deposit","Estimation","Demolition","Protection","Tile Installation","Plumbing","Clean Up","Inspection","Final Payment"]}],L=[{jobs:[],id:Math.random(),first_name:"Tmc Builders Inc",last_name:"",trade_name:"Contractor,Plumber"},{jobs:[],id:Math.random(),first_name:"Wood N'Things Llc",last_name:"",trade_name:"Contractor"},{jobs:[],id:Math.random(),first_name:"Cabinet Pros",last_name:"",trade_name:"Contractor"},{jobs:[],id:Math.random(),first_name:"Gilman Contractors Inc",last_name:"",trade_name:"Contractor"},{jobs:[],id:Math.random(),first_name:"Crowne Closets & Cabinetry",last_name:"",trade_name:"Contractor"},{jobs:[],id:Math.random(),first_name:"The Structures Group Southwest Inc",last_name:"",trade_name:"Contractor"},{jobs:[],id:Math.random(),first_name:"B Smith Construction Inc",last_name:"",trade_name:"Contractor"},{jobs:[],id:Math.random(),first_name:"Turner CO",last_name:"",trade_name:"Contractor"},{jobs:[],id:Math.random(),first_name:"Tower Mechanical Sv",last_name:"",trade_name:"Contractor"},{jobs:[],id:Math.random(),first_name:"Rice",last_name:"Werthmann",trade_name:w[6]},{jobs:[],id:Math.random(),first_name:"Ollen",last_name:"Hampshire",trade_name:w[5]},{jobs:[],id:Math.random(),first_name:"Michael",last_name:"Goermar",trade_name:w[4]},{jobs:[],id:Math.random(),first_name:"Dianne",last_name:"Rossini",trade_name:w[3]+",Plumber"},{jobs:[],id:Math.random(),first_name:"Marjan",last_name:"Berishaj",trade_name:w[2]},{jobs:[],id:Math.random(),first_name:"Robert",last_name:"Hudson",trade_name:w[1]},{jobs:[],id:Math.random(),first_name:"Jeremy",last_name:"Tilton",trade_name:w[0]+",Plumber"},{jobs:[],id:Math.random(),first_name:"Lance",last_name:"Keever",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Manuel",last_name:"Patridge",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Herbert",last_name:"Baylor",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Jorge",last_name:"Brzezinski",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Calvin",last_name:"Youngquist",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Richard",last_name:"Sturtz",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Hugh",last_name:"Raymond",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Adrian",last_name:"Beutel",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Samuel",last_name:"Manwaring",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Tony",last_name:"Hallowell",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Randy",last_name:"Drumm",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Tim",last_name:"Geist",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Glen",last_name:"Lotz",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Jamie",last_name:"Bare",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Adrian",last_name:"Cabana",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Albert",last_name:"Mossman",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Richard",last_name:"Spikes",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Alexander",last_name:"Tanksley",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Earl",last_name:"Rutledge",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Leon",last_name:"Blasi",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Jerome",last_name:"Deegan",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Edgar",last_name:"Christine",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Thomas",last_name:"Alvardo",trade_name:w[D[Math.floor(Math.random()*D.length)]]},{jobs:[],id:Math.random(),first_name:"Alexander",last_name:"Guidi",trade_name:w[D[Math.floor(Math.random()*D.length)]]}];!function(){for(var e=new Date,t={},a=0;a<y.length;a++)t[y[a]]=!0;for(var n=0;n<L.length;n++){var s=L[n];F[s.trade_name]=F[s.trade_name]||[],F[s.trade_name].push(s)}for(var l=0;l<Y.length;l++){var r=Y[l],o=new Date(e.getFullYear(),e.getMonth(),e.getDate()-2*l),i=0;H(r);for(var c=0;c<r.temp_jobs.length;c++){for(var d=new Date(o.getFullYear(),o.getMonth(),o.getDate()+c+i),m=c<l?100:c===l?Math.min(Math.round(100*Math.random()),100):0;t[d.getDay()];)i++,d=new Date(o.getFullYear(),o.getMonth(),o.getDate()+c+i);var h=x(r,r.temp_jobs[c],d,0!==m||!!Math.round(100*Math.random()%4),m);r.jobs.push(h.id),A[d.getFullYear()+"_"+d.getMonth()]||(A[d.getFullYear()+"_"+d.getMonth()]=[]),A[d.getFullYear()+"_"+d.getMonth()].push(h),I[h.id]=h}}}();var B=j[window.loc].MonthNames,z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={loaded:!1,selected_job:"none"},a.selectJob=function(e){var t=e.currentTarget.dataset.id;a.props.onSelectProject(a.props.id,t)},a.handleCloseButton=function(e){a.props.onSelectProject(null,null)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getJobData",value:function(){var e={Unscheduled:[]},t={};return this.props.project_data.jobs.map(function(a,n){var s=Object(E.a)({},I[a]);if(t[s.id]=s,!s.start_date)return e.Unscheduled.push(s),!0;var l=s.start_date.getMonth();return e[l]||(e[l]=[]),e[l].push(s),!0}),[t,e]}},{key:"componentDidMount",value:function(){var e=this.getJobData();this.setState({jobs_by_id:e[0],months:e[1],selected_job:this.props.selected_job})}},{key:"componentDidUpdate",value:function(e){if(this.props.selected_job!==e.selected_job&&this.setState({selected_job:this.props.selected_job}),this.props.project_data.id!==e.project_data.id||this.props.refresh!==e.refresh){var t=this.getJobData();this.setState({jobs_by_id:t[0],months:t[1],selected_job:this.props.selected_job})}}},{key:"render",value:function(){var e=[],t=new Date;if(this.state.months){var a=Object.keys(this.state.months),n=this.state.months,l=!1;a.sort(function(e,t){return n[e]-n[t]});for(var r=0;r<a.length;r++){var o=this.state.months[a[r]];o.sort(function(e,t){return e.start_date-t.start_date});for(var i=0;i<o.length;i++){var c=o[i],d="";!l&&c.start_date&&c.start_date>=new Date(t.getFullYear(),t.getMonth(),t.getDate())&&(l=!0,d=" after-today"),e.push(s.a.createElement("li",{key:c.id,"data-id":c.id,className:(100===c.progress?"complete":c.progress>0?"progress":"")+" "+a[r]+(c.start_date&&c.start_date.toDateString()===(new Date).toDateString()?" today":"")+d+(i===o.length-1?" last-of-month":"")+(c.id===this.state.selected_job?" selected":" not-selected")+(i<o.length-1&&o[i+1].id===this.state.selected_job?" job-before-selected":""),onClick:this.selectJob},0===i?s.a.createElement("h3",null,B[a[r]]||a[r]):[],s.a.createElement("span",{className:"h-line"}),s.a.createElement("span",{className:"selected-arrow"}),s.a.createElement("span",{className:"date"},c.start_date?c.start_date.getDate():""),s.a.createElement("div",{className:"job-box"},s.a.createElement("h4",null,s.a.createElement("i",{className:c.icon}),s.a.createElement("span",{className:"job-name"},c.name))),s.a.createElement("span",{className:"status"},s.a.createElement("span",{className:"progress-bar",style:{transform:"scaleX("+c.progress/100+")"}}),s.a.createElement("span",{className:"status-text"},100===c.progress?s.a.createElement("i",{className:"fas fa-check"}):0===c.progress?"":c.progress+"%"))))}}}return s.a.createElement("article",{className:"project"+(this.props.last_selected?" last_selected":"")},s.a.createElement("header",null,s.a.createElement("h2",null,this.props.project_data.name),this.props.selected_job&&s.a.createElement("div",{className:"button-menu"},s.a.createElement("button",{onClick:this.handleCloseButton,className:"icon-button"},s.a.createElement("i",{className:"fas fa-times"})))),s.a.createElement("div",{className:"header-color",style:{backgroundColor:this.props.project_data.color||"black"}}),s.a.createElement("div",{className:"timeline"},e))}}]),t}(s.a.Component),R=a(17),U=a.n(R),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={value:U.a.createEmptyValue()},a.onChange=function(e){a.setState({value:e}),a.props.onChange&&a.props.onChange(e.toString("html"))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(U.a,{className:"editor",value:this.state.value,onChange:this.onChange})}}]),t}(s.a.Component),V=a(10);function G(e,t){return new Date(t,e+1,0).getDate()}function K(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}var q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={selected_day:0,jobs_by_day:[],jobs_by_id:{}},a.handleDayClick=function(e){var t=parseInt(e.currentTarget.dataset.id,10),n=parseInt(e.currentTarget.dataset.index,10);a.props.handleDayClick(t,n)},a.handleJobClick=function(e){var t=e.currentTarget.dataset.id,n=e.currentTarget.dataset.project;a.props.handleJobClick(n,t)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"calcJobsByDay",value:function(){for(var e=[],t=0;t<G(this.props.month,this.props.year);t++)e.push([]);for(var a=0;a<this.props.user.jobs.length;a++){var n=this.props.user.jobs[a],s=I[n];s.start_date&&s.start_date.getMonth()===this.props.month&&e[s.start_date.getDate()-1].push(s)}return e}},{key:"componentDidMount",value:function(){var e=this.calcJobsByDay();this.setState({jobs_by_day:e}),this.props.selected_day&&this.setState({selected_day:this.props.selected_day})}},{key:"componentDidUpdate",value:function(e){this.props.month!==e.month&&this.setState({jobs_by_day:this.calcJobsByDay()}),this.props.selected_day&&this.props.selected_day!==e.selected_day&&this.setState({selected_day:this.props.selected_day})}},{key:"render",value:function(){var e=[],t=[],a=["jobs-0","jobs-1","jobs-2","jobs-3","jobs-4","jobs-5","jobs-6","jobs-7","jobs-8"];if(!this.props.selected_day&&this.state.jobs_by_day&&this.state.jobs_by_day.length===G(this.props.month,this.props.year))for(var n=0;n<G(this.props.month,this.props.year);n++){for(var l=new Date(this.props.year,this.props.month,n+1),r=0,o=0;o<this.state.jobs_by_day[n].length;o++){var i=this.state.jobs_by_day[n][o];r+=(i.end_date-i.start_date)/1e3/60/60}for(var c="",d=0;d<y.length;d++)l.getDay()===y[d]&&(c=" weekend");e.push(s.a.createElement("li",{key:this.props.user.id+"_"+n,"data-id":n+1,"data-index":this.props.index,className:"cell "+a[Math.min(Math.round(8*r/v),a.length-1)]+c+(l.toDateString()===(new Date).toDateString()||this.props.month/20+this.props.year>(new Date).getMonth()/20+(new Date).getFullYear()&&0===n?" today":"")+(this.props.selected_job_data&&this.props.selected_job_data.start_date&&K(this.props.selected_job_data.start_date,l)&&this.props.selected_job_data.assigned_user===this.props.user.id?" assigned":""),onClick:this.handleDayClick},r?Math.round(10*r)/10+" hrs":""))}if(this.state.selected_day){for(var m=0;m<24;m++)t.push(s.a.createElement("li",{key:"hour-"+m,className:"day-cell"}));if(this.state.jobs_by_day[this.state.selected_day-1])for(o=0;o<this.state.jobs_by_day[this.state.selected_day-1].length;o++){var h=this.state.jobs_by_day[this.state.selected_day-1][o],u=(h.end_date-h.start_date)/1e3/60/60/24*100,p=(h.start_date-new Date(this.props.year,this.props.month,this.state.selected_day))/1e3/60/60/24*100;t.push(s.a.createElement("li",{key:"job-"+h.id,"data-id":h.id,"data-project":h.project_id,className:"job"+(h.id===this.props.selected_job?" selected":""),style:{left:p+"%",maxWidth:u+"%",minWidth:u+"%",backgroundColor:h.project_color},onClick:this.handleJobClick},s.a.createElement("h4",null,s.a.createElement("i",{className:h.icon}),s.a.createElement("span",null,s.a.createElement("strong",null,h.name))),s.a.createElement("div",null,h.project_name)))}}return s.a.createElement("div",{className:"user-schedule"+(this.props.selected_day?" show-day":"")},this.props.selected_day?s.a.createElement("ul",{className:"day-schedule",style:{}},t):s.a.createElement("ul",{className:"month-schedule"},e))}}]),t}(s.a.Component),X=j[window.loc].WeekDaysShort,Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={selected_day:0},a.handleDayClick=function(e){var t=parseInt(e.currentTarget.dataset.id,10);a.props.handleDayClick(t)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.selected_day&&this.props.selected_day!==e.selected_day&&this.setState({selected_day:this.props.selected_day})}},{key:"render",value:function(){for(var e=[],t=[],a=0;a<G(this.props.month,this.props.year);a++){var n=new Date(this.props.year,this.props.month,a+1);e.push(s.a.createElement("li",{key:a+1,"data-id":a+1,className:"cell"+(n.toDateString()===(new Date).toDateString()?" today":"")+(this.props.selected_job_data&&this.props.selected_job_data.start_date&&K(this.props.selected_job_data.start_date,n)?" assigned":""),onClick:this.handleDayClick},s.a.createElement("span",null,a+1),s.a.createElement("small",null,X[n.getDay()])))}if(this.state.selected_day)for(var l=0;l<24;l++){var r=new Date(this.props.year,this.props.month,this.state.selected_day,l);t.push(s.a.createElement("li",{key:l,className:"day-cell"},s.a.createElement("span",null,(r.getHours()%12||12)+" "+(r.getHours()>=12?"pm":"am"))))}return s.a.createElement("div",{className:"user-schedule heatmap-dates"+(this.props.selected_day?" show-day":"")},this.props.selected_day?s.a.createElement("ul",{className:"day-schedule",style:{}},t):s.a.createElement("ul",{className:"month-schedule"},e))}}]),t}(s.a.Component);function Z(e,t){return e.indexOf(t)>0?e.substr(0,e.indexOf(t)):e}var $=j[window.loc].WeekDaysShort,ee=j[window.loc].MonthNames,te=j[window.loc].MonthNamesShort,ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={loaded:!1,hidden:!0,sort:"trade_name",trade_filter:"all",date:new Date,selected_day:0,selected_index:0,users_by_id:{},users:[]},a.selectSort=function(e){console.log(e.target.value),a.setState({sort:e.target.value})},a.selectTradeFilter=function(e){console.log(e.target.value),a.setState({trade_filter:e.target.value})},a.handleJobClick=function(e,t){a.props.handleJobClick(e,t)},a.handleDayClick=function(e,t){a.setState({selected_day:e,selected_index:t})},a.handleClearSelectedDay=function(e){a.setState({selected_day:0})},a.handleNextDay=function(e){var t=a.state.selected_day,n=a.state.date;t===G(n.getMonth(),n.getFullYear())?(a.handleNextMonth(),t=1):t++,a.setState({selected_day:t})},a.handlePrevDay=function(e){var t,n=a.state.selected_day;1===n?n=G((t=a.handlePrevMonth()).getMonth(),t.getFullYear()):n--,a.setState({selected_day:n})},a.handleGotoToday=function(e){var t=new Date;a.gotoDate(t)},a.gotoDate=function(e){a.setState({date:e,selected_day:e.getDate()}),a.props.selected_job_data.assigned_user&&(a[a.props.selected_job_data.assigned_user]?a[a.props.selected_job_data.assigned_user].parentNode.parentNode.scrollTop=a[a.props.selected_job_data.assigned_user].offsetTop-200:setTimeout(function(){a[a.props.selected_job_data.assigned_user]&&(a[a.props.selected_job_data.assigned_user].parentNode.parentNode.scrollTop=a[a.props.selected_job_data.assigned_user].offsetTop-200)},100))},a.handleNextMonth=function(e){var t,n=a.state.date;return t=11===n.getMonth()?new Date(n.getFullYear()+1,0,1):new Date(n.getFullYear(),n.getMonth()+1,1),a.setState({date:t}),t},a.handlePrevMonth=function(e){var t,n=a.state.date;return t=0===n.getMonth()?new Date(n.getFullYear()-1,11,1):new Date(n.getFullYear(),n.getMonth()-1,1),a.setState({date:t}),t},a.createRef=function(e){return function(t){a[e]=t}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){for(var e=Object(V.a)(L),t={},a={},n=0;n<e.length;n++)t[Z(e[n].trade_name,",")]=!!Z(e[n].trade_name,","),a[e[n].id]=e[n];var s=Object.keys(t);s.sort(function(e,t){var a=e.toLowerCase(),n=t.toLowerCase();return a<n?-1:a>n?1:0}),this.setState({trades:t,trade_names:s,users:Object(V.a)(e),users_by_id:a,trade_filter:"all",loaded:!0}),this.props.selected_job&&(this.props.selected_job_data.start_date?this.gotoDate(this.props.selected_job_data.start_date):this.props.selected_job_data.default_trade&&t[this.props.selected_job_data.default_trade]&&this.setState({trade_filter:this.props.selected_job_data.default_trade}))}},{key:"componentDidUpdate",value:function(e){this.props.selected_job!==e.selected_job&&(this.props.selected_job_data.start_date?(this.setState({trade_filter:"all"}),this.gotoDate(this.props.selected_job_data.start_date)):(this.handleClearSelectedDay(),this.props.selected_job_data.default_trade&&this.state.trades[this.props.selected_job_data.default_trade]?this.setState({trade_filter:this.props.selected_job_data.default_trade}):this.setState({trade_filter:"all"})))}},{key:"render",value:function(){var e=this,t=[],a=[],n=[];if(this.state.loaded){for(var l=Object(V.a)(this.state.users),r=0;r<this.state.trade_names.length;r++)n.push(s.a.createElement("option",{key:this.state.trade_names[r],value:this.state.trade_names[r]},this.state.trade_names[r]));var o=this.state.sort,i=this.state.trade_filter;l.sort(function(e,t){var a=e[o]?0===e.trade_name.indexOf(i)?"a":e[o].toLowerCase():"zzzzzz",n=t[o]?0===t.trade_name.indexOf(i)?"a":t[o].toLowerCase():"zzzzzz";return a<n?-1:a>n?1:0});for(var c=0;c<l.length;c++)("all"===this.state.trade_filter||l[c].trade_name.indexOf(this.state.trade_filter)+1)&&(t.push(s.a.createElement("li",{key:"user-"+l[c].id},s.a.createElement("h3",null,l[c].first_name+" "+l[c].last_name),s.a.createElement("h4",null,Z(l[c].trade_name,",")))),a.push(s.a.createElement("li",{key:"user-"+l[c].id,ref:this.createRef(l[c].id)},s.a.createElement(q,{handleDayClick:this.handleDayClick,handleJobClick:this.handleJobClick,selected_day:this.state.selected_day,selected_index:this.state.selected_index,user:l[c],month:this.state.date.getMonth(),year:this.state.date.getFullYear(),selected_job:this.props.selected_job,selected_job_data:this.props.selected_job_data,index:c}))))}return s.a.createElement("div",{className:"scheduler"+(this.state.loaded?"":" loading")},s.a.createElement("div",{className:"menu"},s.a.createElement("div",null,s.a.createElement("div",{className:"select-container"},s.a.createElement("i",{className:"fas fa-sort-alpha-down"}),s.a.createElement("select",{onChange:this.selectSort},s.a.createElement("option",{value:"trade_name"},"sort by trade"),s.a.createElement("option",{value:"last_name"},"sort by last name"),s.a.createElement("option",{value:"first_name"},"sort by first name")),s.a.createElement("i",{className:"fas fa-caret-down"})),s.a.createElement("div",{className:"select-container"},s.a.createElement("i",{className:"fas fa-filter"}),s.a.createElement("select",{value:this.state.trade_filter,onChange:this.selectTradeFilter},s.a.createElement("option",{value:"all"},"all"),n),s.a.createElement("i",{className:"fas fa-caret-down"}))),this.state.selected_day?s.a.createElement("div",null,s.a.createElement("button",{onClick:function(t){e.handlePrevDay(t)}},s.a.createElement("i",{className:"fas fa-angle-left"}),s.a.createElement("span",null,"Previous Day")),s.a.createElement("button",{onClick:function(t){e.handleClearSelectedDay(t)}},s.a.createElement("i",{className:"fas fa-angle-up"}),s.a.createElement("span",null,ee[this.state.date.getMonth()])),s.a.createElement("button",{onClick:function(t){e.handleNextDay(t)}},s.a.createElement("span",null,"Next Day"),s.a.createElement("i",{className:"fas fa-angle-right"}))):s.a.createElement("div",null,s.a.createElement("button",{onClick:function(t){e.handlePrevMonth(t)}},s.a.createElement("i",{className:"fas fa-angle-left"}),s.a.createElement("span",null,"Previous Month")),s.a.createElement("button",{onClick:function(t){e.handleGotoToday(t)}},s.a.createElement("span",null,"Today")),s.a.createElement("button",{onClick:function(t){e.handleNextMonth(t)}},s.a.createElement("span",null,"Next Month"),s.a.createElement("i",{className:"fas fa-angle-right"})))),s.a.createElement("div",{className:"schedule-grid schedule-grid-header"},s.a.createElement("ul",{className:"user-names"},s.a.createElement("li",{className:"month-name"},s.a.createElement("h3",null,this.state.selected_day?$[new Date(this.state.date.getFullYear(),this.state.date.getMonth(),this.state.selected_day).getDay()]+" "+te[this.state.date.getMonth()]+" "+this.state.selected_day:ee[this.state.date.getMonth()]),s.a.createElement("h4",null,this.state.date.getFullYear()))),s.a.createElement("ul",{className:"heat-maps"},s.a.createElement("li",null,s.a.createElement(Q,{handleDayClick:this.handleDayClick,selected_day:this.state.selected_day,month:this.state.date.getMonth(),year:this.state.date.getFullYear(),selected_job:this.props.selected_job,selected_job_data:this.props.selected_job_data})))),s.a.createElement("div",{className:"schedule-grid"+(this.state.hidden?"":" hidden")},s.a.createElement("ul",{className:"user-names"},this.state.loaded?t:[]),s.a.createElement("ul",{className:"heat-maps"},this.state.loaded?a:[])))}}]),t}(s.a.Component),ne=function(e){return s.a.createElement("section",{id:"modal-warning"},s.a.createElement("header",null,s.a.createElement("h1",null,s.a.createElement("i",{className:"fas fa-exclamation-triangle"}),s.a.createElement("span",null,e.title||"Warning")),s.a.createElement("button",{onClick:function(){window.closeModal()},className:"icon-button"},s.a.createElement("i",{className:"fas fa-times"}))),s.a.createElement("div",{className:"message"},e.message),s.a.createElement("footer",null,s.a.createElement("button",{onClick:function(){e.handleConfirm(),window.closeModal()}},s.a.createElement("i",{className:"fas fa-check"}),s.a.createElement("span",null,e.confirm)),s.a.createElement("button",{onClick:function(){e.handleCancel(),window.closeModal()}},s.a.createElement("i",{className:"fas fa-times"}),s.a.createElement("span",null,e.cancel))))},se=j[window.loc].DeleteAllTasksWarning,le=j[window.loc].MarkAllTasksCompleteWarning,re=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={tasks:[],add_task_text:"",temp_edit_text:"",currently_editing:0,all_complete:!1},a.handleTaskClick=function(e){var t=e.currentTarget.dataset.id;if(a.state.currently_editing!==t){for(var n=Object(V.a)(a.state.tasks),s=0;s<n.length;s++){var l=n[s];l.id===t&&(l.completed=!l.completed)}a.updateTasks(n)}},a.handleCompleteAll=function(){window.openModal(s.a.createElement(ne,{message:s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("span",null,le.message_1),s.a.createElement("strong",null,a.props.selected_job_data.name),s.a.createElement("span",null,le.message_2)),s.a.createElement("p",null,le.message_3)),cancel:le.cancel,confirm:le.confirm,handleConfirm:function(){for(var e=Object(V.a)(a.state.tasks),t=0;t<e.length;t++){e[t].completed=!0}a.updateTasks(e)},handleCancel:function(){}}))},a.handleIncompleteAll=function(){for(var e=Object(V.a)(a.state.tasks),t=0;t<e.length;t++){e[t].completed=!1}a.updateTasks(e)},a.handleDeleteAll=function(){window.openModal(s.a.createElement(ne,{message:s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("span",null,se.message_1),s.a.createElement("strong",null,a.props.selected_job_data.name),s.a.createElement("span",null,se.message_2)),s.a.createElement("p",null,se.message_3),s.a.createElement("p",null,se.message_4)),cancel:se.cancel,confirm:se.confirm,handleConfirm:function(){a.updateTasks([])},handleCancel:function(){}}))},a.handleDelete=function(e){e.preventDefault(),e.stopPropagation();for(var t=e.currentTarget.parentNode.parentNode.dataset.id,n=[],s=0;s<a.state.tasks.length;s++){a.state.tasks[s].id!==t&&n.push(a.state.tasks[s])}a.updateTasks(n)},a.handleAddKeyPress=function(e){"Enter"===e.key&&a.handleAddTask()},a.handleAddChange=function(e){a.setState({add_task_text:e.currentTarget.value})},a.handleAddTask=function(e){if(a.state.add_task_text){var t=Object(V.a)(a.state.tasks);t.push({id:Math.random()+"",name:a.state.add_task_text,completed:!1}),a.updateTasks(t),a.setState({add_task_text:""})}},a.handleEdit=function(e){e.preventDefault(),e.stopPropagation();for(var t=e.currentTarget.parentNode.parentNode.dataset.id,n="",s=0;s<a.state.tasks.length;s++){a.state.tasks[s].id===t&&(n=a.state.tasks[s].name)}a.setState({currently_editing:t,temp_edit_text:n})},a.handleEditKeyPress=function(e){"Enter"===e.key&&a.handleConfirmEdit(e)},a.handleEditChange=function(e){a.setState({temp_edit_text:e.currentTarget.value})},a.handleCancelEdit=function(e){e.preventDefault(),e.stopPropagation(),a.setState({currently_editing:null})},a.handleConfirmEdit=function(e){e.preventDefault(),e.stopPropagation();for(var t=a.state.currently_editing,n=Object(V.a)(a.state.tasks),s=0;s<n.length;s++){n[s].id===t&&(n[s].name=a.state.temp_edit_text)}a.updateTasks(n),a.setState({currently_editing:null})},a.handleTaskDragStart=function(e){a.dragged_id=e.target.dataset.id,a.dragged_index=e.target.dataset.index},a.handleTaskDragEnd=function(e){window.setStyle(""),a.drop_id&&a.handleTaskDrop(e)},a.handleTaskDragOver=function(e){e.preventDefault(),e.currentTarget.dataset.id!==a.drop_id&&(parseInt(e.currentTarget.dataset.index,10)>=parseInt(a.dragged_index,10)?window.setStyle('\n          [data-id="'+e.currentTarget.dataset.id+'"]:after {\n            bottom: 0 !important;\n            opacity: 1 !important;\n          }\n        '):window.setStyle('\n          [data-id="'+e.currentTarget.dataset.id+'"]:after {\n            top: 0 !important;\n            opacity: 1 !important;\n          }\n        '),a.drop_id=e.currentTarget.dataset.id,a.drop_index=e.currentTarget.dataset.index)},a.handleTaskDragLeave=function(e){e.preventDefault()},a.handleTaskDrop=function(e){e.preventDefault();var t=Object(V.a)(a.state.tasks),n=a.dragged_index,s=a.drop_index;a.drop_id=null,window.setStyle(""),a.array_move(t,parseInt(n,10),parseInt(s,10)),a.updateTasks(t)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],t=0;t<this.props.selected_job_data.tasks.length;t++)e.push(Object(E.a)({},J[this.props.selected_job_data.tasks[t]]));this.setState({tasks:e,all_complete:this.checkIfAllComplete(e)})}},{key:"componentDidUpdate",value:function(e){if(this.props.selected_job_data&&this.props.selected_job!==e.selected_job){for(var t=[],a=0;a<this.props.selected_job_data.tasks.length;a++)t.push(Object(E.a)({},J[this.props.selected_job_data.tasks[a]]));this.setState({tasks:t,all_complete:this.checkIfAllComplete(t)})}}},{key:"checkIfAllComplete",value:function(e){for(var t=0,a=0;a<e.length;a++)e[a].completed&&t++;return 100===(Math.round(t/e.length*100)||0)}},{key:"updateTasks",value:function(e){for(var t,a=0,n=0;n<e.length;n++)e[n].completed&&a++;t=Math.round(a/e.length*100)||0,this.props.updateJobProgress(this.props.selected_job,e,t),this.setState({tasks:e,all_complete:100===t})}},{key:"changeMode",value:function(e){this.setState({mode:e})}},{key:"getMenu",value:function(){var e=this;return s.a.createElement("div",{className:"menu"},s.a.createElement("div",null,s.a.createElement("div",{className:"button-group"},s.a.createElement("input",{type:"text",placeholder:"task name",value:this.state.add_task_text,onChange:this.handleAddChange,onKeyPress:this.handleAddKeyPress}),s.a.createElement("button",{onClick:function(t){e.handleAddTask(t)}},s.a.createElement("i",{className:"fas fa-plus"}),s.a.createElement("span",null,"add task")))),s.a.createElement("div",null,this.state.all_complete?s.a.createElement("button",{onClick:function(t){e.handleIncompleteAll(t)}},s.a.createElement("i",{className:"far fa-circle"}),s.a.createElement("span",null,"mark all as incomplete")):s.a.createElement("button",{onClick:function(t){e.handleCompleteAll(t)},disabled:!this.state.tasks.length},s.a.createElement("i",{className:"fas fa-check-circle"}),s.a.createElement("span",null,"mark all as complete")),s.a.createElement("button",{onClick:function(t){e.handleDeleteAll()},disabled:!this.state.tasks.length},s.a.createElement("i",{className:"fas fa-trash"}),s.a.createElement("span",null,"delete all"))))}},{key:"array_move",value:function(e,t,a){if(a>=e.length)for(var n=a-e.length+1;n--;)e.push(void 0);e.splice(a,0,e.splice(t,1)[0])}},{key:"render",value:function(){for(var e=Object(V.a)(this.state.tasks),t=[],a=0;a<e.length;a++)t.push(s.a.createElement("li",{key:this.props.selected_job+"_"+e[a].id,className:"task"+(e[a].completed?" completed":"")+(e[a].id===this.state.currently_editing?" currently-editing":"")+(this.state.drop_id===e[a].id?" drop-"+this.state.drop_location:""),"data-id":e[a].id,"data-index":a,onClick:this.handleTaskClick,draggable:!0,onDrag:this.handleTaskDragStart,onDragEnd:this.handleTaskDragEnd,onDragOver:this.handleTaskDragOver,onDragLeave:this.handleTaskDragLeave,onDrop:this.handleTaskDrop},s.a.createElement("h3",null,s.a.createElement("span",{className:"icon-holder"},s.a.createElement("i",{className:"fas fa-check-circle check"}),s.a.createElement("i",{className:"far fa-circle"})),this.state.currently_editing===e[a].id?s.a.createElement("input",{className:"",defaultValue:e[a].name,onChange:this.handleEditChange,onKeyPress:this.handleEditKeyPress}):s.a.createElement("span",{className:"task-name"},e[a].name)),this.state.currently_editing===e[a].id?s.a.createElement("div",null,s.a.createElement("button",{className:"icon-button",onClick:this.handleConfirmEdit,title:"Apply"},s.a.createElement("i",{className:"fas fa-check"})),s.a.createElement("button",{className:"icon-button",onClick:this.handleCancelEdit,title:"Cancel"},s.a.createElement("i",{className:"fas fa-times"}))):s.a.createElement("div",null,s.a.createElement("button",{className:"icon-button",onClick:this.handleEdit,title:"Edit Task"},s.a.createElement("i",{className:"fas fa-edit"})),s.a.createElement("button",{className:"icon-button",onClick:this.handleDelete,title:"Delete Task"},s.a.createElement("i",{className:"fas fa-trash"})))));return s.a.createElement("div",{className:"task-editor"+(this.state.loaded?"":" loading")},this.getMenu(),s.a.createElement("div",{className:"task-list"},s.a.createElement("ul",null,t)))}}]),t}(s.a.Component),oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={detail_mode:"schedule",job_data:{}},a.handleJobClick=function(e,t){a.props.handleJobClick(e,t)},a.updateJobProgress=function(e,t,n){I[e].progress=n;for(var s,l=[],r=0;r<t.length;r++)s=t[r],l.push(s.id),J[s.id]=Object(E.a)({},s);I[e].tasks=l,a.props.updateJob(e,Object(E.a)({},I[e]))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.selected_job&&I[this.props.selected_job].start_date&&this.setState({detail_mode:"task"})}},{key:"changeMode",value:function(e){this.setState({detail_mode:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"job-detail-panel"+(this.props.selected_job?"":" open")+" show-content"},this.props.selected_job?s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("header",null,s.a.createElement("h2",null,I[this.props.selected_job].name),s.a.createElement("div",null,s.a.createElement("button",{className:"schedule"===this.state.detail_mode?"selected":"",onClick:function(){e.changeMode("schedule")}},"schedule job"),s.a.createElement("button",{className:"task"===this.state.detail_mode?"selected":"",onClick:function(){e.changeMode("task")}},"manage tasks"),s.a.createElement("button",{className:"note"===this.state.detail_mode?"selected":"",onClick:function(){e.changeMode("note")}},"take notes"))),s.a.createElement("div",{className:"tab-panel"},s.a.createElement("div",{className:"note"===this.state.detail_mode?"show":""},"note"===this.state.detail_mode?s.a.createElement(W,{value:"These are some notes!",onChange:function(e){console.log(e)}}):[]),s.a.createElement("div",{className:"task"===this.state.detail_mode?"show":""},"task"===this.state.detail_mode?s.a.createElement(re,{selected_job:this.props.selected_job,selected_job_data:I[this.props.selected_job],default_trade:I[this.props.selected_job].default_trade,updateJobProgress:this.updateJobProgress}):[]),s.a.createElement("div",{className:"schedule"===this.state.detail_mode?"show":""},"schedule"===this.state.detail_mode?s.a.createElement(ae,{selected_job:this.props.selected_job,selected_job_data:I[this.props.selected_job],default_trade:I[this.props.selected_job].default_trade,handleJobClick:this.handleJobClick}):[])))):[])}}]),t}(s.a.Component),ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleJobClick=function(e,t){a.selectProject(e,t)},a.updateJob=function(e,t){a.setState({refresh:Math.random()})},a.state={refresh:0,loaded:!1,selected_job:null,last_selected_project:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){for(var t={},a=0;a<Y.length;a++)t[Y[a].id]=Y[a];e.setState({loaded:!0,projects_by_id:t})},50)}},{key:"selectProject",value:function(e,t){var a=this;this.state.selected_project&&this.state.selected_project!==e&&(setTimeout(function(){a.setState({transition_last_selected_project:!1})},50),setTimeout(function(){a.setState({last_selected_project:a.state.selected_project})},1500)),this.setState({last_selected_project:this.state.selected_project?this.state.selected_project:e,transition_last_selected_project:this.state.selected_project&&this.state.selected_project!==e,selected_project:e,selected_job:t})}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<Y.length;a++)t.push(s.a.createElement("div",{key:"project-"+Y[a].id,className:"card"+(a<5?" d"+(a+1):" d5")},s.a.createElement(z,{id:Y[a].id,project_data:Y[a],onSelectProject:function(t,a){e.selectProject(t,a)},refresh:this.state.refresh})));return s.a.createElement("div",{className:"projects "+(this.state.loaded?"loaded":"unloaded")},this.state.selected_job?s.a.createElement("div",{id:"project-details",className:"card"+(this.state.selected_job?" show":"")},s.a.createElement("div",{className:"header-color",style:{backgroundColor:this.state.projects_by_id[this.state.selected_project].color||"black"}}),s.a.createElement("div",{className:"selected_project"+(this.state.transition_last_selected_project?" transition_last_selected":"")},this.state.last_selected_project?s.a.createElement(z,{id:this.state.last_selected_project,last_selected:!0,project_data:this.state.projects_by_id[this.state.last_selected_project],onSelectProject:function(e,t){},selected_job:this.state.selected_job,refresh:this.state.refresh}):[],s.a.createElement(z,{id:this.state.selected_project,project_data:this.state.projects_by_id[this.state.selected_project],onSelectProject:function(t,a){e.selectProject(t,a)},selected_job:this.state.selected_job,refresh:this.state.refresh})),s.a.createElement(oe,{selected_job:this.state.selected_job,handleJobClick:this.handleJobClick,updateJob:this.updateJob})):s.a.createElement("div",{className:"project-list"+(this.state.selected_job?"":" show")},t))}}]),t}(s.a.Component),ce=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{id:"page-projects"},s.a.createElement(ie,null))}}]),t}(s.a.Component),de=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{id:"page-schedule"},s.a.createElement(ae,{handleJobClick:function(){}}))}}]),t}(s.a.Component);function me(){return localStorage.getItem("setup")}function he(){return localStorage.getItem("token")}function ue(e){localStorage.setItem("token","token")}var pe=["General Contractor - Commercial","Custom Home Builder","Production Builder","Remodeler - Renovation","Design Build","Specialty Contractor","Subcontractor","Construction Manager","Property Developer","Real Estate Agent","Architect - Designer","Supplier - Vendor","Other"],_e=["North America","Latin America","South America","Europe","Australia","Middle East","Africa","Asia & India","Other"],fe=["Company Owner or Partner","Project Manager","Office Manager","Superintendent","Estimator","Architect","Engineer","Accountant","Other"],ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={setup_complete:!1,loading:!1,slider_state:0,company_name:"",phone:"",construction_type:"",region:"",role:""},a.CompleteSetup=function(){setTimeout(function(){var e;e="Setup Complete!",localStorage.setItem("setup",e),a.setState({setup_complete:!0})},2e3)},a.HandleChange=function(e){var t={};t[e.target.name]=e.target.value,a.setState(t)},a.HandleCheckboxChange=function(e){var t={};t[e.target.id]=e.target.checked,a.setState(t)},a.HandleSubmit=function(e){e.preventDefault(),a.setState({loading:!0}),a.CompleteSetup()},a.Validate=function(e){var t=[""!==a.state.company_name&&""!==a.state.phone&&""!==a.state.construction_type&&""!==a.state.region&&""!==a.state.role,!0];return e?t[e-1]:t[0]&&t[1]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({slider_state:1})},1e3)}},{key:"render",value:function(){var e=this,t=[s.a.createElement("option",{disabled:!0},"construction type")],a=[s.a.createElement("option",{disabled:!0},"region")],n=[s.a.createElement("option",{disabled:!0},"your role")];for(var l in pe)t.push(s.a.createElement("option",{value:pe[l]},pe[l]));for(var r in _e)a.push(s.a.createElement("option",{value:_e[r]},_e[r]));for(var o in fe)n.push(s.a.createElement("option",{value:fe[o]},fe[o]));return s.a.createElement("section",{id:"page-setup"},s.a.createElement("div",null,s.a.createElement("div",{className:"card f-column f-space-between"},s.a.createElement("form",{className:"slider t-center"+(this.state.loading?" loading":""),onSubmit:this.HandleSubmit},s.a.createElement("div",{className:"f-column"+(1===this.state.slider_state?" active":"")},s.a.createElement("h2",null,"Tell us a little about your construction company..."),s.a.createElement("div",{className:"f-column f-center f-a-center f-grow"},s.a.createElement("p",null,s.a.createElement("input",{name:"company_name",type:"text",placeholder:"company name",value:this.state.company_name,onChange:this.HandleChange})),s.a.createElement("p",null,s.a.createElement("input",{name:"phone",type:"text",placeholder:"phone number",value:this.state.phone,onChange:this.HandleChange})),s.a.createElement("p",null,s.a.createElement("select",{className:this.state.construction_type?"":"placeholder",defaultValue:"construction type",name:"construction_type",onChange:this.HandleChange},t)),s.a.createElement("p",null,s.a.createElement("select",{className:this.state.region?"":"placeholder",defaultValue:"region",name:"region",onChange:this.HandleChange},a)),s.a.createElement("p",null,s.a.createElement("select",{className:this.state.role?"":"placeholder",defaultValue:"your role",name:"role",onChange:this.HandleChange},n))),s.a.createElement("footer",null,s.a.createElement("button",{className:"next-button",type:"button",disabled:this.state.loading||!this.Validate(1),onClick:function(t){e.setState({slider_state:2})}},s.a.createElement("span",null,"next")))),s.a.createElement("div",{className:"f-column"+(2===this.state.slider_state?" active":"")},s.a.createElement("h2",null,"Which Projul features interest you the most?"),s.a.createElement("div",{className:"f-column f-center f-a-center f-grow"},s.a.createElement("p",null,s.a.createElement("input",{id:"feature-1",name:"feature-1",type:"checkbox",onChange:this.HandleCheckboxChange}),s.a.createElement("label",{htmlFor:"feature-1"},"Project Managment!")),s.a.createElement("p",null,s.a.createElement("input",{id:"feature-2",name:"feature-2",type:"checkbox",onChange:this.HandleCheckboxChange}),s.a.createElement("label",{htmlFor:"feature-2"},"Customer Communication!")),s.a.createElement("p",null,s.a.createElement("input",{id:"feature-3",name:"feature-3",type:"checkbox",onChange:this.HandleCheckboxChange}),s.a.createElement("label",{htmlFor:"feature-3"},"Project Photo Organization!"))),s.a.createElement("footer",null,s.a.createElement("button",{className:"back-button",type:"button",disabled:this.state.loading,onClick:function(t){e.setState({slider_state:1})}},s.a.createElement("span",null,"back")),s.a.createElement("button",{className:"load-button",disabled:this.state.loading||!this.Validate(2)},s.a.createElement("span",null,"complete setup"),s.a.createElement("span",null))))))),this.state.setup_complete&&s.a.createElement(_.a,{to:"/"}))}}]),t}(s.a.Component),be=a(29),Ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={signed_in:!1,loading:!1},a.SignIn=function(){setTimeout(function(){ue(),a.setState({signed_in:!0})},2e3)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",{id:"signin",className:this.state.loading?"loading":""},s.a.createElement("div",{className:"card"},s.a.createElement("h1",null,"welcome back"),s.a.createElement("button",{className:"button-sign-in load-button",disabled:this.state.loading,onClick:function(t){e.setState({loading:!0}),e.SignIn()}},s.a.createElement("span",null,"sign in"),s.a.createElement("span",null)),s.a.createElement("div",null,s.a.createElement(be.a,{to:"/signup"},"Need an account? Try it out!")),this.state.signed_in&&s.a.createElement(_.a,{to:"/"})))}}]),t}(s.a.Component),je=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={signed_up:!1,loading:!1,name:"",email:"",password:"",password_confirmed:""},a.SignUp=function(){setTimeout(function(){ue(),a.setState({signed_up:!0})},2e3)},a.HandleChange=function(e){var t={};t[e.target.name]=e.target.value,a.setState(t)},a.HandleSubmit=function(e){console.log("SUBMIT"),e.preventDefault(),a.setState({loading:!0}),a.SignUp()},a.Validate=function(){return""!==a.state.name&&""!==a.state.email&&""!==a.state.password&&""!==a.state.password_confirmed&&a.state.password_confirmed===a.state.password},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{id:"signup",className:this.state.loading?"loading":""},s.a.createElement("div",{className:"card"},s.a.createElement("h1",null,"try projul out for ",s.a.createElement("strong",null,"free")),s.a.createElement("form",{onSubmit:this.HandleSubmit},s.a.createElement("div",null,s.a.createElement("input",{name:"name",type:"text",placeholder:"full name",value:this.state.name,onChange:this.HandleChange})),s.a.createElement("div",null,s.a.createElement("input",{name:"email",type:"email",placeholder:"email",value:this.state.email,onChange:this.HandleChange})),s.a.createElement("div",null,s.a.createElement("input",{name:"password",type:"password",placeholder:"password",value:this.state.password,onChange:this.HandleChange})),s.a.createElement("div",null,s.a.createElement("input",{name:"password_confirmed",type:"password",placeholder:"confirm password",value:this.state.password_confirmed,onChange:this.HandleChange})),s.a.createElement("button",{className:"button-sign-up load-button",disabled:this.state.loading||!this.Validate()},s.a.createElement("span",null,"it's that easy"),s.a.createElement("span",null))),s.a.createElement("div",null,s.a.createElement(be.a,{to:"/signin"},"Have an account? Sign in!")),this.state.signed_up&&s.a.createElement(_.a,{to:"/"})))}}]),t}(s.a.Component),ye=a(34),ve=a(19),ke=a.n(ve),Me=function(){return s.a.createElement("header",null,s.a.createElement(be.a,{to:"/dashboard"},s.a.createElement("img",{src:ke.a,alt:"Projul Logo"})),he()&&s.a.createElement("ul",{className:"flex-center"+(me()?"":" menu-placeholder")},s.a.createElement("li",null,s.a.createElement(ye.a,{exact:!0,to:"/dashboard"},"dashboard")),s.a.createElement("li",null,s.a.createElement(ye.a,{exact:!0,to:"/projects"},"projects")),s.a.createElement("li",null,s.a.createElement(ye.a,{exact:!0,to:"/schedule"},"schedule"))),s.a.createElement("nav",null,he()&&s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(ye.a,{exact:!0,to:"/signout"},"sign out")))))},Ce=function(){return s.a.createElement("footer",null,"Projul \xa9 ",(new Date).getFullYear())},De=a(20),we=a.n(De),Se=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={hide_load:!1,modal_state:""},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({hide_load:1}),setTimeout(function(){e.setState({hide_load:2})},750)},2e3),window.openModal=function(t){e.setState({modal:t}),setTimeout(function(){e.setState({modal_state:"show"})},50)},window.closeModal=function(){e.setState({modal_state:""}),setTimeout(function(){e.setState({modal:null})},750)};var t=document.createElement("style");t.type="text/css",document.querySelector("head").appendChild(t),window.setStyle=function(e){t.innerHTML=e}}},{key:"render",value:function(){var e=this;return s.a.createElement(o.a,null,s.a.createElement(u.a,{render:function(t){var a=t.location;return s.a.createElement("div",{id:"app"},s.a.createElement("div",{id:"loading-screen",className:(e.state.hide_load?"":"show")+(e.state.hide_load>1?"hide":"")},s.a.createElement("img",{src:we.a,alt:"Projul Loading Animation"})),e.state.modal?s.a.createElement("div",{id:"modal-container",className:e.state.modal_state},e.state.modal):[],s.a.createElement(Me,null),s.a.createElement("main",null,e.state.hide_load&&s.a.createElement(p.a,{location:a},s.a.createElement(u.a,{path:"/signout",exact:!0,render:function(){return localStorage.removeItem("token"),s.a.createElement(_.a,{to:"/signin"})}}),!me()&&he()&&s.a.createElement(u.a,{path:"/",render:function(){return s.a.createElement(ge,null)}}),s.a.createElement(u.a,{path:"/setup",exact:!0,render:function(){return localStorage.removeItem("setup"),s.a.createElement(_.a,{to:"/"})}}),s.a.createElement(u.a,{path:"/signup",exact:!0,render:function(){return he()?s.a.createElement(_.a,{to:"/"}):s.a.createElement(je,null)}}),s.a.createElement(u.a,{path:"/signin",exact:!0,render:function(){return he()?s.a.createElement(_.a,{to:"/"}):s.a.createElement(Ee,null)}}),s.a.createElement(u.a,{path:"/",exact:!0,render:function(){return he()?s.a.createElement(_.a,{to:"/dashboard"}):s.a.createElement(_.a,{to:"/signin"})}}),s.a.createElement(u.a,{path:"/dashboard",exact:!0,render:function(){return he()?s.a.createElement(b,null):s.a.createElement(_.a,{to:"/signin"})}}),s.a.createElement(u.a,{path:"/projects",exact:!0,render:function(){return he()?s.a.createElement(ce,null):s.a.createElement(_.a,{to:"/signin"})}}),s.a.createElement(u.a,{path:"/schedule",exact:!0,render:function(){return he()?s.a.createElement(de,null):s.a.createElement(_.a,{to:"/signin"})}}),s.a.createElement(u.a,{path:"/ah-geez-404",exact:!0,render:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"404"),s.a.createElement("h2",null,"Your request could not be found."))}}),s.a.createElement(u.a,{render:function(){return s.a.createElement(_.a,{to:"/ah-geez-404"})}}))),s.a.createElement(Ce,null))}}))}}]),t}(s.a.Component);a(30);r.a.render(s.a.createElement(o.a,null,s.a.createElement(Se,null)),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.523a4c12.chunk.js.map