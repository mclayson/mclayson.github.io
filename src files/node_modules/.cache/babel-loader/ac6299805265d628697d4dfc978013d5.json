{"ast":null,"code":"import _objectSpread from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/matt/Work/Projul/projul-prototype/src/components/job-details.js\";\nimport React from 'react';\nimport Editor from './editor';\nimport Scheduler from './scheduler';\nimport TaskEditor from './task-editor';\nimport { JobsById } from '../utilities/content';\n\nvar JobDetails =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(JobDetails, _React$Component);\n\n  function JobDetails() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, JobDetails);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(JobDetails)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      detail_mode: \"schedule\",\n      job_data: {}\n    };\n\n    _this.handleJobClick = function (project_id, id) {\n      _this.props.handleJobClick(project_id, id);\n    };\n\n    _this.updateJobProgress = function (job_id, tasks) {\n      var progress = 0;\n\n      for (var t = 0; t < tasks.length; t++) {\n        if (tasks[t].completed) {\n          progress++;\n        }\n      }\n\n      JobsById[job_id].progress = Math.round(100 * (progress / tasks.length));\n      JobsById[job_id].tasks = _toConsumableArray(tasks);\n\n      _this.props.updateJob(job_id, _objectSpread({}, JobsById[job_id]));\n    };\n\n    return _this;\n  }\n\n  _createClass(JobDetails, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.selected_job && JobsById[this.props.selected_job].start_date) {\n        this.setState({\n          detail_mode: \"task\"\n        });\n      }\n    }\n  }, {\n    key: \"changeMode\",\n    value: function changeMode(mode) {\n      this.setState({\n        detail_mode: mode\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"job-detail-panel\" + (this.props.selected_job ? \"\" : \" open\") + \" show-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, this.props.selected_job ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, JobsById[this.props.selected_job].name), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: this.state.detail_mode === \"schedule\" ? \"selected\" : \"\",\n        onClick: function onClick() {\n          _this2.changeMode(\"schedule\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"schedule job\"), React.createElement(\"button\", {\n        className: this.state.detail_mode === \"task\" ? \"selected\" : \"\",\n        onClick: function onClick() {\n          _this2.changeMode(\"task\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"manage tasks\"), React.createElement(\"button\", {\n        className: this.state.detail_mode === \"note\" ? \"selected\" : \"\",\n        onClick: function onClick() {\n          _this2.changeMode(\"note\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"take notes\"))), React.createElement(\"div\", {\n        className: \"tab-panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: this.state.detail_mode === \"note\" ? \"show\" : \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, this.state.detail_mode === \"note\" ? React.createElement(Editor, {\n        value: \"These are some notes!\",\n        onChange: function onChange(value) {\n          console.log(value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }) : []), React.createElement(\"div\", {\n        className: this.state.detail_mode === \"task\" ? \"show\" : \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, this.state.detail_mode === \"task\" ? React.createElement(TaskEditor, {\n        selected_job: this.props.selected_job,\n        selected_job_data: JobsById[this.props.selected_job],\n        default_trade: JobsById[this.props.selected_job].default_trade,\n        updateJobProgress: this.updateJobProgress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }) : []), React.createElement(\"div\", {\n        className: this.state.detail_mode === \"schedule\" ? \"show\" : \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.state.detail_mode === \"schedule\" ? React.createElement(Scheduler, {\n        selected_job: this.props.selected_job,\n        selected_job_data: JobsById[this.props.selected_job],\n        default_trade: JobsById[this.props.selected_job].default_trade,\n        handleJobClick: this.handleJobClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }) : [])))) : []);\n    }\n  }]);\n\n  return JobDetails;\n}(React.Component);\n\nexport default JobDetails;","map":{"version":3,"sources":["/Users/matt/Work/Projul/projul-prototype/src/components/job-details.js"],"names":["React","Editor","Scheduler","TaskEditor","JobsById","JobDetails","state","detail_mode","job_data","handleJobClick","project_id","id","props","updateJobProgress","job_id","tasks","progress","t","length","completed","Math","round","updateJob","selected_job","start_date","setState","mode","name","changeMode","value","console","log","default_trade","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Editor from './editor'\nimport Scheduler from './scheduler'\nimport TaskEditor from './task-editor'\nimport {JobsById} from '../utilities/content'\n\nclass JobDetails extends React.Component {\n  state = {\n    detail_mode: \"schedule\",\n    job_data: {}\n  }\n\n  componentDidMount () {\n    if (this.props.selected_job && JobsById[this.props.selected_job].start_date) {\n      this.setState({\n        detail_mode: \"task\"\n      })\n    }\n  }\n\n  changeMode (mode) {\n    this.setState({\n      detail_mode: mode\n    });\n  }\n  handleJobClick = (project_id, id) => {\n    this.props.handleJobClick(project_id, id);\n  }\n  updateJobProgress = (job_id, tasks) => {\n    let progress = 0;\n    for (let t=0; t<tasks.length; t++) {\n      if (tasks[t].completed) {\n        progress++;\n      }\n    }\n\n    JobsById[job_id].progress = Math.round(100*(progress / tasks.length));\n    JobsById[job_id].tasks = [...tasks];\n    this.props.updateJob(job_id, {...JobsById[job_id]});\n  }\n\n  render () {\n    return (\n      <div className={\"job-detail-panel\" +\n        (this.props.selected_job?\"\":\" open\") +\n        (\" show-content\")\n      }>\n        { this.props.selected_job?(\n          <div>\n            <div>\n              <header>\n                <h2>{JobsById[this.props.selected_job].name}</h2>\n                <div>\n                  <button className={this.state.detail_mode === \"schedule\"?\"selected\":\"\"} onClick={()=>{this.changeMode(\"schedule\")}}>schedule job</button>\n                  <button className={this.state.detail_mode === \"task\"?\"selected\":\"\"} onClick={()=>{this.changeMode(\"task\")}}>manage tasks</button>\n                  <button className={this.state.detail_mode === \"note\"?\"selected\":\"\"} onClick={()=>{this.changeMode(\"note\")}}>take notes</button>\n                </div>\n              </header>\n              <div className=\"tab-panel\">\n                <div className={this.state.detail_mode === \"note\"?\"show\":\"\"}>\n                  {\n                    this.state.detail_mode === \"note\"?\n                      (<Editor\n                        value=\"These are some notes!\"\n                        onChange={(value)=>{console.log(value);}}\n                      />)\n                    :\n                      []\n                  }\n                </div>\n                <div className={this.state.detail_mode === \"task\"?\"show\":\"\"}>\n                  {\n                    this.state.detail_mode === \"task\"?\n                      (<TaskEditor\n                        selected_job={this.props.selected_job}\n                        selected_job_data={JobsById[this.props.selected_job]}\n                        default_trade={JobsById[this.props.selected_job].default_trade}\n                        updateJobProgress={this.updateJobProgress}\n                       />)\n                    :\n                      []\n                  }\n                </div>\n                <div className={this.state.detail_mode === \"schedule\"?\"show\":\"\"}>\n                  {\n                    this.state.detail_mode === \"schedule\"?\n                      (<Scheduler\n                        selected_job={this.props.selected_job}\n                        selected_job_data={JobsById[this.props.selected_job]}\n                        default_trade={JobsById[this.props.selected_job].default_trade}\n                        handleJobClick={this.handleJobClick}\n                       />)\n                    :\n                      []\n                  }\n                </div>\n              </div>\n            </div>\n          </div>\n        ):[]}\n      </div>\n    );\n  }\n}\n\nexport default JobDetails\n"]},"metadata":{},"sourceType":"module"}