{"ast":null,"code":"import _objectSpread from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/matt/Work/Projul/projul-prototype/src/components/projects.js\";\nimport React from 'react';\nimport { Editor, EditorState } from 'draft-js';\nvar styles = {\n  editor: {\n    border: '1px solid gray',\n    minHeight: '6em'\n  }\n};\n\nvar Projects =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Projects, _React$Component);\n\n  function Projects(props) {\n    var _this;\n\n    _classCallCheck(this, Projects);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Projects).call(this, props));\n    _this.month_names = [\"January\", \"Fabruary\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    _this.data = [{\n      start_date: new Date(2018, 9, 20),\n      name: \"Sign Contract\",\n      id: 1,\n      icon: \"fas fa-file-signature\",\n      progress: 100\n    }, {\n      start_date: new Date(2018, 9, 22),\n      name: \"Pre Deposit\",\n      id: 2,\n      icon: \"fas fa-dollar-sign\",\n      progress: 100\n    }, {\n      start_date: new Date(2018, 9, 12),\n      name: \"Estimation\",\n      id: 3,\n      icon: \"fas fa-balance-scale\",\n      progress: 100\n    }, {\n      start_date: new Date(2018, 9, 29),\n      name: \"Demolition\",\n      id: 4,\n      icon: \"fas fa-hammer\",\n      progress: 40\n    }, {\n      start_date: new Date(2018, 9, 28),\n      name: \"Protection\",\n      id: 5,\n      icon: \"fas fa-tape\",\n      progress: 78\n    }, {\n      start_date: new Date(2018, 9, 30),\n      name: \"Tile Install\",\n      id: 6,\n      icon: \"fas fa-toolbox\",\n      progress: 0\n    }, {\n      start_date: new Date(2018, 10, 1),\n      name: \"Plumbing\",\n      id: 7,\n      icon: \"fas fa-tint\",\n      progress: 0\n    }, {\n      start_date: new Date(2018, 10, 4),\n      name: \"Clean Up\",\n      id: 8,\n      icon: \"fas fa-broom\",\n      progress: 0\n    }, {\n      start_date: null,\n      name: \"Inspection\",\n      id: 9,\n      icon: \"fas fa-clipboard-list\",\n      progress: 0\n    }, {\n      start_date: null,\n      name: \"Final Payment\",\n      id: 0,\n      icon: \"fas fa-dollar-sign\",\n      progress: 0\n    }];\n\n    _this.SelectTask = function (e) {\n      var id = parseInt(e.currentTarget.dataset.id, 10);\n      console.log(e.currentTarget.dataset.id);\n\n      _this.setState({\n        show_selected_task: _this.state.selected_task === id ? !_this.state.show_selected_task : true,\n        show_selected_task_content: true\n      });\n\n      if (_this.state.selected_task !== id) {\n        _this.setState({\n          selected_task: id\n        });\n      }\n    };\n\n    _this.state = {\n      editorState: EditorState.createEmpty(),\n      loaded: false,\n      selected_task: \"none\",\n      show_selected_task: false\n    };\n\n    _this.onChange = function (editorState) {\n      return _this.setState({\n        editorState: editorState\n      });\n    };\n\n    _this.setEditor = function (editor) {\n      _this.editor = editor;\n    };\n\n    _this.focusEditor = function () {\n      if (_this.editor) {\n        _this.editor.focus();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Projects, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.focusEditor();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var months = {\n        Unassigned: []\n      };\n      var tasks_by_id = {};\n      var display_months = [];\n      this.data.map(function (task, i) {\n        var task_insert = _objectSpread({}, task);\n\n        tasks_by_id[task_insert.id] = task_insert;\n\n        if (!task.start_date) {\n          months.Unassigned.push(task_insert);\n          return true;\n        }\n\n        var task_month = task.start_date.getMonth();\n\n        if (!months[task_month]) {\n          months[task_month] = [];\n        }\n\n        months[task_month].push(task_insert);\n        return true;\n      });\n      var month_keys = Object.keys(months);\n      month_keys.sort(function (a, b) {\n        return months[a] - months[b];\n      });\n\n      for (var i = 0; i < month_keys.length; i++) {\n        var month = months[month_keys[i]];\n        month.sort(function (a, b) {\n          return a.start_date - b.start_date;\n        });\n\n        for (var j = 0; j < month.length; j++) {\n          var task = month[j];\n          display_months.push(React.createElement(\"li\", {\n            key: task.id,\n            \"data-id\": task.id,\n            className: (task.progress === 100 ? \"complete\" : task.progress > 0 ? \"progress\" : \"\") + (\" \" + month_keys[i]) + (task.start_date && task.start_date.getDate() === new Date().getDate() ? \" today\" : \"\") + (j === month.length - 1 ? \" last-of-month\" : \"\") + (task.id === this.state.selected_task && this.state.show_selected_task ? \" selected\" : this.state.show_selected_task === false ? \" none-selected\" : \" not-selected\") + (j < month.length - 1 && month[j + 1].id === this.state.selected_task && this.state.show_selected_task ? \" task-before-selected\" : \"\") // eslint-disable-next-line\n            ,\n            onClick: this.SelectTask,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169\n            },\n            __self: this\n          }, j === 0 ? React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 179\n            },\n            __self: this\n          }, this.month_names[month_keys[i]] || month_keys[i]) : [], React.createElement(\"span\", {\n            className: \"h-line\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            className: \"selected-arrow\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 182\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            className: \"date\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 183\n            },\n            __self: this\n          }, task.start_date ? task.start_date.getDate() : \"\"), React.createElement(\"div\", {\n            className: \"task-box\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184\n            },\n            __self: this\n          }, React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: task.icon,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            className: \"task-name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185\n            },\n            __self: this\n          }, task.name))), React.createElement(\"span\", {\n            className: \"status\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"progress-bar\",\n            style: {\n              transform: \"scaleX(\" + task.progress / 100 + \")\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            className: \"status-text\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189\n            },\n            __self: this\n          }, task.progress === 100 ? React.createElement(\"i\", {\n            className: \"fas fa-check\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 191\n            },\n            __self: this\n          }) : task.progress === 0 ? \"\" : task.progress + \"%\"))));\n        }\n\n        ; // display_months.push((\n        //   <ul className={\"timeline-month \" + month_keys[i].toLowerCase()}>\n        //\n        //   </ul>\n        // ));\n      }\n\n      ;\n      return React.createElement(\"article\", {\n        className: \"project\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Project Name\")), React.createElement(\"div\", {\n        className: \"timeline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, display_months), React.createElement(\"div\", {\n        className: \"task-detail-panel\" + (this.state.show_selected_task === false ? \"\" : \" open\") + (this.state.show_selected_task_content === false ? \"\" : \" show-content\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, this.state.selected_task === \"none\" ? [] : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, tasks_by_id[this.state.selected_task].name), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \"notes\"), React.createElement(\"div\", {\n        style: styles.editor,\n        onClick: this.focusEditor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(Editor, {\n        ref: this.setEditor,\n        editorState: this.state.editorState,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \"assign worker\"), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"schedule time\"))))));\n    }\n  }]);\n\n  return Projects;\n}(React.Component); // <ul className=\"timeline-month\">\n//   <h3>October</h3>\n//   <span className=\"h-line\" />\n//   <li className={\"complete\"} onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">16</span>\n//     <h4>task</h4>\n//   </li>\n//   <li className={\"complete\"} onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">18</span>\n//     <h4>task</h4>\n//   </li>\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">20</span>\n//     <h4>task</h4>\n//   </li>\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">23</span>\n//     <h4>task</h4>\n//   </li>\n//   <li className=\"today\" onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">28</span>\n//     <h4>task</h4>\n//   </li>\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">30</span>\n//     <h4>task</h4>\n//   </li>\n// </ul>\n// <ul className=\"timeline-month\">\n//   <h3>November</h3>\n//   <span className=\"h-line\" />\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">2</span>\n//     <h4>task</h4>\n//   </li>\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">4</span>\n//     <h4>task</h4>\n//   </li>\n// </ul>\n// <ul className=\"timeline-month\">\n//   <h3>Unscheduled</h3>\n//   <span className=\"h-line\" />\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\"></span>\n//     <h4>task</h4>\n//   </li>\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\"></span>\n//     <h4>task</h4>\n//   </li>\n// </ul>\n\n\nexport default Projects;","map":{"version":3,"sources":["/Users/matt/Work/Projul/projul-prototype/src/components/projects.js"],"names":["React","Editor","EditorState","styles","editor","border","minHeight","Projects","props","month_names","data","start_date","Date","name","id","icon","progress","SelectTask","e","parseInt","currentTarget","dataset","console","log","setState","show_selected_task","state","selected_task","show_selected_task_content","editorState","createEmpty","loaded","onChange","setEditor","focusEditor","focus","months","Unassigned","tasks_by_id","display_months","map","task","i","task_insert","push","task_month","getMonth","month_keys","Object","keys","sort","a","b","length","month","j","getDate","transform","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Editor, EditorState} from 'draft-js';\n\nconst styles = {\n  editor: {\n    border: '1px solid gray',\n    minHeight: '6em'\n  }\n};\n\nclass Projects extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editorState: EditorState.createEmpty(),\n      loaded: false,\n      selected_task: \"none\",\n      show_selected_task: false\n    };\n    this.onChange = (editorState) => this.setState({editorState});\n    this.setEditor = (editor) => {\n      this.editor = editor;\n    };\n    this.focusEditor = () => {\n      if (this.editor) {\n        this.editor.focus();\n      }\n    };\n  }\n  month_names = [\n    \"January\",\n    \"Fabruary\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n  ];\n\n  ////TODO: Include Time intervals for indivitual day schedules\n\n  data = [\n    {\n      start_date: new Date(2018,9,20),\n      name: \"Sign Contract\",\n      id: 1,\n      icon: \"fas fa-file-signature\",\n      progress: 100\n    },\n    {\n      start_date: new Date(2018,9,22),\n      name: \"Pre Deposit\",\n      id: 2,\n      icon: \"fas fa-dollar-sign\",\n      progress: 100\n    },\n    {\n      start_date: new Date(2018,9,12),\n      name: \"Estimation\",\n      id: 3,\n      icon: \"fas fa-balance-scale\",\n      progress: 100\n    },\n    {\n      start_date: new Date(2018,9,29),\n      name: \"Demolition\",\n      id: 4,\n      icon: \"fas fa-hammer\",\n      progress: 40\n    },\n    {\n      start_date: new Date(2018,9,28),\n      name: \"Protection\",\n      id: 5,\n      icon: \"fas fa-tape\",\n      progress: 78\n    },\n    {\n      start_date: new Date(2018,9,30),\n      name: \"Tile Install\",\n      id: 6,\n      icon: \"fas fa-toolbox\",\n      progress: 0\n    },\n    {\n      start_date: new Date(2018,10,1),\n      name: \"Plumbing\",\n      id: 7,\n      icon: \"fas fa-tint\",\n      progress: 0\n    },\n    {\n      start_date: new Date(2018,10,4),\n      name: \"Clean Up\",\n      id: 8,\n      icon: \"fas fa-broom\",\n      progress: 0\n    },\n    {\n      start_date: null,\n      name: \"Inspection\",\n      id: 9,\n      icon: \"fas fa-clipboard-list\",\n      progress: 0\n    },\n    {\n      start_date: null,\n      name: \"Final Payment\",\n      id: 0,\n      icon: \"fas fa-dollar-sign\",\n      progress: 0\n    }\n  ];\n\n  componentDidMount() {\n    this.focusEditor();\n  }\n\n  SelectTask = (e) => {\n    let id=parseInt(e.currentTarget.dataset.id,10);\n    console.log(e.currentTarget.dataset.id);\n\n    this.setState({\n      show_selected_task:(this.state.selected_task===id?!this.state.show_selected_task:true),\n      show_selected_task_content: true\n    });\n    if (this.state.selected_task!==id) {\n      this.setState({\n        selected_task:id\n      });\n    }\n  }\n\n  render() {\n    var months = {\n      Unassigned: []\n    };\n    var tasks_by_id = {};\n    var display_months = [];\n    this.data.map((task, i) => {\n      let task_insert = {\n        ...task\n      };\n      tasks_by_id[task_insert.id] = task_insert;\n      if (!task.start_date) {\n        months.Unassigned.push(task_insert);\n        return true;\n      }\n      let task_month = task.start_date.getMonth();\n      if (!months[task_month]) {\n        months[task_month] = [];\n      }\n      months[task_month].push(task_insert);\n      return true;\n    });\n    var month_keys = Object.keys(months);\n    month_keys.sort(function(a, b){return months[a] - months[b]});\n    for (var i=0; i<month_keys.length; i++) {\n      var month = months[month_keys[i]];\n      month.sort(function(a, b){return a.start_date - b.start_date});\n      for (var j=0; j<month.length; j++) {\n        var task = month[j];\n        display_months.push((\n          <li key={task.id} data-id={task.id} className={\n            (task.progress === 100 ? \"complete\" : task.progress > 0 ? \"progress\" : \"\") +\n            (\" \"+month_keys[i]) +\n            (task.start_date && task.start_date.getDate() === (new Date()).getDate()?\" today\":\"\") +\n            (j === month.length-1?\" last-of-month\":\"\") +\n            (task.id===this.state.selected_task&&this.state.show_selected_task?\" selected\":(this.state.show_selected_task===false?\" none-selected\":\" not-selected\")) +\n            ((j<month.length-1) && month[j+1].id===this.state.selected_task && this.state.show_selected_task?\" task-before-selected\":\"\")\n            // eslint-disable-next-line\n          } onClick={this.SelectTask}>\n            {\n              j===0?<h3>{this.month_names[month_keys[i]] || month_keys[i]}</h3>:[]\n            }\n            <span className=\"h-line\" />\n            <span className=\"selected-arrow\" />\n            <span className=\"date\">{(task.start_date ? task.start_date.getDate() : \"\")}</span>\n            <div className=\"task-box\">\n              <h4><i className={task.icon}></i><span className=\"task-name\">{task.name}</span></h4>\n            </div>\n            <span className=\"status\">\n              <span className=\"progress-bar\" style={{transform:\"scaleX(\"+(task.progress/100)+\")\"}}></span>\n              <span className=\"status-text\">{\n                task.progress===100 ?\n                (<i className=\"fas fa-check\"></i>):\n                task.progress===0 ?\n                (\"\"):\n                (task.progress + \"%\")\n              }</span>\n            </span>\n          </li>\n        ));\n      };\n      // display_months.push((\n      //   <ul className={\"timeline-month \" + month_keys[i].toLowerCase()}>\n      //\n      //   </ul>\n      // ));\n    };\n\n    return (\n      <article className=\"project\">\n        <header>\n          <h2>Project Name</h2>\n        </header>\n        <div className=\"timeline\">\n          {display_months}\n        </div>\n        <div className={\"task-detail-panel\" +\n          (this.state.show_selected_task===false?\"\":\" open\") +\n          (this.state.show_selected_task_content===false?\"\":\" show-content\")\n        }>\n          { this.state.selected_task===\"none\"?[]:(\n            <div>\n              <div>\n                <h2>{tasks_by_id[this.state.selected_task].name}</h2>\n                <div>\n                  <h3>notes</h3>\n                  <div style={styles.editor} onClick={this.focusEditor}>\n                    <Editor\n                      ref={this.setEditor}\n                      editorState={this.state.editorState}\n                      onChange={this.onChange}\n                    />\n                  </div>\n                </div>\n                <div>\n                  <button>assign worker</button>\n                  <button>schedule time</button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </article>\n    );\n  }\n}\n\n// <ul className=\"timeline-month\">\n//   <h3>October</h3>\n//   <span className=\"h-line\" />\n//   <li className={\"complete\"} onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">16</span>\n//     <h4>task</h4>\n//   </li>\n//   <li className={\"complete\"} onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">18</span>\n//     <h4>task</h4>\n//   </li>\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">20</span>\n//     <h4>task</h4>\n//   </li>\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">23</span>\n//     <h4>task</h4>\n//   </li>\n//   <li className=\"today\" onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">28</span>\n//     <h4>task</h4>\n//   </li>\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">30</span>\n//     <h4>task</h4>\n//   </li>\n// </ul>\n// <ul className=\"timeline-month\">\n//   <h3>November</h3>\n//   <span className=\"h-line\" />\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">2</span>\n//     <h4>task</h4>\n//   </li>\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\">4</span>\n//     <h4>task</h4>\n//   </li>\n// </ul>\n// <ul className=\"timeline-month\">\n//   <h3>Unscheduled</h3>\n//   <span className=\"h-line\" />\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\"></span>\n//     <h4>task</h4>\n//   </li>\n//   <li onClick={(e) => this.SelectTask(e)}>\n//     <span className=\"date\"></span>\n//     <h4>task</h4>\n//   </li>\n// </ul>\n\nexport default Projects\n"]},"metadata":{},"sourceType":"module"}