{"ast":null,"code":"import _classCallCheck from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/matt/Work/Projul/projul-prototype/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/matt/Work/Projul/projul-prototype/src/components/user-heatmap-dates.js\";\nimport React from 'react';\nimport { DaysInMonth, SameDay } from '../utilities/date';\nimport { WeekDaysShort } from '../utilities/content';\n\nvar UserHeatmapDates =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserHeatmapDates, _React$Component);\n\n  function UserHeatmapDates() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserHeatmapDates);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserHeatmapDates)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selected_day: 0\n    };\n\n    _this.SelectDate = function (e) {\n      // let id=parseInt(e.currentTarget.dataset.id,10);\n      console.log(e.target.value);\n\n      _this.setState({\n        sort: e.target.value\n      });\n    };\n\n    _this.HandleDayClick = function (e) {\n      var id = parseInt(e.currentTarget.dataset.id, 10);\n\n      _this.props.HandleDayClick(id);\n    };\n\n    return _this;\n  }\n\n  _createClass(UserHeatmapDates, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.selected_day && this.props.selected_day !== prevProps.selected_day) {\n        this.setState({\n          selected_day: this.props.selected_day\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var cells = [];\n      var day_cells = [];\n\n      for (var i = 0; i < DaysInMonth(this.props.month, this.props.year); i++) {\n        var current_date = new Date(this.props.year, this.props.month, i + 1);\n        cells.push(React.createElement(\"li\", {\n          \"data-id\": i + 1,\n          className: \"cell\" + (current_date.toDateString() === new Date().toDateString() ? \" today\" : \"\") + (this.props.task.start_date && SameDay(this.props.task.start_date, current_date) ? \" assigned\" : \"\"),\n          onClick: this.HandleDayClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, i + 1), React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, WeekDaysShort[current_date.getDay()])));\n      }\n\n      if (this.state.selected_day) {\n        for (var h = 0; h < 24; h++) {\n          var current_time = new Date(this.props.year, this.props.month, this.state.selected_day, h);\n          day_cells.push(React.createElement(\"li\", {\n            className: \"day-cell\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, (current_time.getHours() % 12 || 12) + \" \" + (current_time.getHours() >= 12 ? \"pm\" : \"am\"))));\n        }\n      }\n\n      return React.createElement(\"ul\", {\n        className: \"heatmap-dates\" + (this.props.selected_day ? \" show-day\" : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"day-schedule\",\n        style: {\n          transformOrigin: this.state.selected_day / DaysInMonth(this.props.month, this.props.year) * 100 + \"% 0\",\n          transition: \"opacity .5s ease, transform .5s ease 1s\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, day_cells)), cells);\n    }\n  }]);\n\n  return UserHeatmapDates;\n}(React.Component);\n\nexport default UserHeatmapDates;","map":{"version":3,"sources":["/Users/matt/Work/Projul/projul-prototype/src/components/user-heatmap-dates.js"],"names":["React","DaysInMonth","SameDay","WeekDaysShort","UserHeatmapDates","state","selected_day","SelectDate","e","console","log","target","value","setState","sort","HandleDayClick","id","parseInt","currentTarget","dataset","props","prevProps","cells","day_cells","i","month","year","current_date","Date","push","toDateString","task","start_date","getDay","h","current_time","getHours","transformOrigin","transition","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {DaysInMonth, SameDay} from '../utilities/date'\nimport {WeekDaysShort} from '../utilities/content'\n\nclass UserHeatmapDates extends React.Component {\n  state = {\n    selected_day: 0\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.selected_day && this.props.selected_day !== prevProps.selected_day) {\n      this.setState({\n        selected_day: this.props.selected_day\n      });\n    }\n  }\n\n  SelectDate = (e) => {\n    // let id=parseInt(e.currentTarget.dataset.id,10);\n    console.log(e.target.value);\n    this.setState({sort: e.target.value});\n  }\n\n  HandleDayClick = (e) => {\n    const id=parseInt(e.currentTarget.dataset.id,10);\n    this.props.HandleDayClick(id)\n  }\n\n  render() {\n    const cells = [];\n    const day_cells = [];\n\n    for (var i=0; i<DaysInMonth(this.props.month, this.props.year); i++) {\n      var current_date = new Date(this.props.year, this.props.month, (i+1));\n      cells.push((\n        <li data-id={(i+1)} className={\n          \"cell\" +\n          ((current_date.toDateString() === (new Date()).toDateString()) ? \" today\" : \"\") +\n          (this.props.task.start_date && SameDay(this.props.task.start_date, current_date) ? \" assigned\" : \"\")\n        } onClick={this.HandleDayClick}>\n          <span>{i+1}</span>\n          <small>{WeekDaysShort[current_date.getDay()]}</small>\n        </li>\n      ));\n    }\n\n    if (this.state.selected_day) {\n      for (var h=0; h<24; h++) {\n        const current_time = new Date(this.props.year, this.props.month, this.state.selected_day, h);\n        day_cells.push((\n          <li className={\n            \"day-cell\"\n          }>\n            <span>{(current_time.getHours() % 12 || 12) + \" \" + (current_time.getHours() >= 12 ? \"pm\" : \"am\")}</span>\n          </li>\n        ));\n      }\n    }\n\n    return (\n      <ul className={\"heatmap-dates\" + (this.props.selected_day ? \" show-day\" : \"\")}>\n        <li className={\"day-schedule\"}\n          style={{\n            transformOrigin: ((this.state.selected_day/DaysInMonth(this.props.month, this.props.year))*100) + \"% 0\",\n            transition: \"opacity .5s ease, transform .5s ease 1s\"\n          }}\n        >\n          <ul>\n            {day_cells}\n          </ul>\n        </li>\n        {cells}\n      </ul>\n    );\n  }\n}\n\nexport default UserHeatmapDates\n"]},"metadata":{},"sourceType":"module"}